const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/blosc-E49GQuAK.js","assets/chunk-INHXZS53-D3tQiqtZ.js","assets/gzip-CF-9a_hd.js","assets/browser-B-ZyVB-j.js","assets/lz4-BIGKWw27.js","assets/zlib-CBiqHlio.js","assets/zstd-IvP746pw.js"])))=>i.map(i=>d[i]);
var Hr=Object.defineProperty;var Si=t=>{throw TypeError(t)};var Kr=(t,e,n)=>e in t?Hr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oe=(t,e,n)=>Kr(t,typeof e!="symbol"?e+"":e,n),Fn=(t,e,n)=>e.has(t)||Si("Cannot "+n);var Q=(t,e,n)=>(Fn(t,e,"read from private field"),n?n.call(t):e.get(t)),Ae=(t,e,n)=>e.has(t)?Si("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,i)=>(Fn(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),Dn=(t,e,n)=>(Fn(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Te(){}function Jr(t,e){for(const n in e)t[n]=e[n];return t}function Ir(t){return t()}function Ai(){return Object.create(null)}function rt(t){t.forEach(Ir)}function Xn(t){return typeof t=="function"}function Ze(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let _n;function Ii(t,e){return t===e?!0:(_n||(_n=document.createElement("a")),_n.href=e,t===_n.href)}function Gr(t){return Object.keys(t).length===0}function Yr(t,...e){if(t==null){for(const i of e)i(void 0);return Te}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Wt(t){let e;return Yr(t,n=>e=n)(),e}function Pn(t,e,n,i){if(t){const r=Cr(t,e,n,i);return t[0](r)}}function Cr(t,e,n,i){return t[1]&&i?Jr(n.ctx.slice(),t[1](i(e))):n.ctx}function Bn(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|r[a];return s}return e.dirty|r}return e.dirty}function Un(t,e,n,i,r,s){if(r){const o=Cr(e,n,i,s);t.p(o,r)}}function qn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function d(t,e){t.appendChild(e)}function te(t,e,n){t.insertBefore(e,n||null)}function X(t){t.parentNode&&t.parentNode.removeChild(t)}function Jt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function A(t){return document.createElement(t)}function j(t){return document.createTextNode(t)}function G(){return j(" ")}function En(){return j("")}function be(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function w(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Qr(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.data!==e&&(t.data=e)}function je(t,e){t.value=e??""}function _e(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function lt(t,e,n){for(let i=0;i<t.options.length;i+=1){const r=t.options[i];if(r.__value===e){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function gn(t){const e=t.querySelector(":checked");return e&&e.__value}function Ot(t,e,n){t.classList.toggle(e,!!n)}function Zr(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}let Gt;function Kt(t){Gt=t}function xn(){if(!Gt)throw new Error("Function called outside component initialization");return Gt}function an(t){xn().$$.on_mount.push(t)}function $n(t){xn().$$.on_destroy.push(t)}function Xr(){const t=xn();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=Zr(e,n,{cancelable:i});return r.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}const Rt=[],Dt=[];let Lt=[];const Ci=[],xr=Promise.resolve();let Vn=!1;function $r(){Vn||(Vn=!0,xr.then(Be))}function it(t){Lt.push(t)}const jn=new Set;let zt=0;function Be(){if(zt!==0)return;const t=Gt;do{try{for(;zt<Rt.length;){const e=Rt[zt];zt++,Kt(e),es(e.$$)}}catch(e){throw Rt.length=0,zt=0,e}for(Kt(null),Rt.length=0,zt=0;Dt.length;)Dt.pop()();for(let e=0;e<Lt.length;e+=1){const n=Lt[e];jn.has(n)||(jn.add(n),n())}Lt.length=0}while(Rt.length);for(;Ci.length;)Ci.pop()();Vn=!1,jn.clear(),Kt(t)}function es(t){if(t.fragment!==null){t.update(),rt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}function ts(t){const e=[],n=[];Lt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Lt=e}const pn=new Set;let kt;function jt(){kt={r:0,c:[],p:kt}}function Nt(){kt.r||rt(kt.c),kt=kt.p}function ee(t,e){t&&t.i&&(pn.delete(t),t.i(e))}function le(t,e,n,i){if(t&&t.o){if(pn.has(t))return;pn.add(t),kt.c.push(()=>{pn.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function He(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ns(t,e){t.d(1),e.delete(t.key)}function is(t,e){le(t,1,1,()=>{e.delete(t.key)})}function zr(t,e,n,i,r,s,o,a,l,h,c,_){let g=t.length,b=s.length,m=g;const S={};for(;m--;)S[t[m].key]=m;const U=[],D=new Map,L=new Map,B=[];for(m=b;m--;){const O=_(r,s,m),u=n(O);let f=o.get(u);f?B.push(()=>f.p(O,e)):(f=h(u,O),f.c()),D.set(u,U[m]=f),u in S&&L.set(u,Math.abs(m-S[u]))}const J=new Set,K=new Set;function re(O){ee(O,1),O.m(a,c),o.set(O.key,O),c=O.first,b--}for(;g&&b;){const O=U[b-1],u=t[g-1],f=O.key,p=u.key;O===u?(c=O.first,g--,b--):D.has(p)?!o.has(f)||J.has(f)?re(O):K.has(p)?g--:L.get(f)>L.get(p)?(K.add(f),re(O)):(J.add(p),g--):(l(u,o),g--)}for(;g--;){const O=t[g];D.has(O.key)||l(O,o)}for(;b;)re(U[b-1]);return rt(B),U}function Oe(t){t&&t.c()}function Ie(t,e,n){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),it(()=>{const s=t.$$.on_mount.map(Ir).filter(Xn);t.$$.on_destroy?t.$$.on_destroy.push(...s):rt(s),t.$$.on_mount=[]}),r.forEach(it)}function Ce(t,e){const n=t.$$;n.fragment!==null&&(ts(n.after_update),rt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rs(t,e){t.$$.dirty[0]===-1&&(Rt.push(t),$r(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function $e(t,e,n,i,r,s,o=null,a=[-1]){const l=Gt;Kt(t);const h=t.$$={fragment:null,ctx:[],props:s,update:Te,not_equal:r,bound:Ai(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Ai(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(h.root);let c=!1;if(h.ctx=n?n(t,e.props||{},(_,g,...b)=>{const m=b.length?b[0]:g;return h.ctx&&r(h.ctx[_],h.ctx[_]=m)&&(!h.skip_bound&&h.bound[_]&&h.bound[_](m),c&&rs(t,_)),g}):[],h.update(),c=!0,rt(h.before_update),h.fragment=i?i(h.ctx):!1,e.target){if(e.hydrate){const _=Qr(e.target);h.fragment&&h.fragment.l(_),_.forEach(X)}else h.fragment&&h.fragment.c();e.intro&&ee(t.$$.fragment),Ie(t,e.target,e.anchor),Be()}Kt(l)}class et{constructor(){oe(this,"$$");oe(this,"$$set")}$destroy(){Ce(this,1),this.$destroy=Te}$on(e,n){if(!Xn(n))return Te;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Gr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ss="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ss);const Tt=[];function Wn(t,e=Te){let n;const i=new Set;function r(a){if(Ze(t,a)&&(t=a,n)){const l=!Tt.length;for(const h of i)h[1](),Tt.push(h,t);if(l){for(let h=0;h<Tt.length;h+=2)Tt[h][0](Tt[h+1]);Tt.length=0}}}function s(a){r(a(t))}function o(a,l=Te){const h=[a,l];return i.add(h),i.size===1&&(n=e(r,s)||Te),a(t),()=>{i.delete(h),i.size===0&&n&&(n(),n=null)}}return{set:r,update:s,subscribe:o}}var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ls(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tr={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,i){t.exports=i()})(os,function n(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r=!i.document&&!!i.postMessage,s=i.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(u,f){var p=(f=f||{}).dynamicTyping||!1;if(O(p)&&(f.dynamicTypingFunction=p,p={}),f.dynamicTyping=p,f.transform=!!O(f.transform)&&f.transform,f.worker&&l.WORKERS_SUPPORTED){var C=function(){if(!l.WORKERS_SUPPORTED)return!1;var N=(q=i.URL||i.webkitURL||null,k=n.toString(),l.BLOB_URL||(l.BLOB_URL=q.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",k,")();"],{type:"text/javascript"})))),H=new i.Worker(N),q,k;return H.onmessage=L,H.id=a++,o[H.id]=H}();return C.userStep=f.step,C.userChunk=f.chunk,C.userComplete=f.complete,C.userError=f.error,f.step=O(f.step),f.chunk=O(f.chunk),f.complete=O(f.complete),f.error=O(f.error),delete f.worker,void C.postMessage({input:u,config:f,workerId:C.id})}var T=null;return l.NODE_STREAM_INPUT,typeof u=="string"?(u=function(N){return N.charCodeAt(0)===65279?N.slice(1):N}(u),T=f.download?new _(f):new b(f)):u.readable===!0&&O(u.read)&&O(u.on)?T=new m(f):(i.File&&u instanceof File||u instanceof Object)&&(T=new g(f)),T.stream(u)},unparse:function(u,f){var p=!1,C=!0,T=",",N=`\r
`,H='"',q=H+H,k=!1,y=null,V=!1;(function(){if(typeof f=="object"){if(typeof f.delimiter!="string"||l.BAD_DELIMITERS.filter(function(I){return f.delimiter.indexOf(I)!==-1}).length||(T=f.delimiter),(typeof f.quotes=="boolean"||typeof f.quotes=="function"||Array.isArray(f.quotes))&&(p=f.quotes),typeof f.skipEmptyLines!="boolean"&&typeof f.skipEmptyLines!="string"||(k=f.skipEmptyLines),typeof f.newline=="string"&&(N=f.newline),typeof f.quoteChar=="string"&&(H=f.quoteChar),typeof f.header=="boolean"&&(C=f.header),Array.isArray(f.columns)){if(f.columns.length===0)throw new Error("Option columns is empty");y=f.columns}f.escapeChar!==void 0&&(q=f.escapeChar+H),(typeof f.escapeFormulae=="boolean"||f.escapeFormulae instanceof RegExp)&&(V=f.escapeFormulae instanceof RegExp?f.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var R=new RegExp(U(H),"g");if(typeof u=="string"&&(u=JSON.parse(u)),Array.isArray(u)){if(!u.length||Array.isArray(u[0]))return x(null,u,k);if(typeof u[0]=="object")return x(y||Object.keys(u[0]),u,k)}else if(typeof u=="object")return typeof u.data=="string"&&(u.data=JSON.parse(u.data)),Array.isArray(u.data)&&(u.fields||(u.fields=u.meta&&u.meta.fields||y),u.fields||(u.fields=Array.isArray(u.data[0])?u.fields:typeof u.data[0]=="object"?Object.keys(u.data[0]):[]),Array.isArray(u.data[0])||typeof u.data[0]=="object"||(u.data=[u.data])),x(u.fields||[],u.data||[],k);throw new Error("Unable to serialize unrecognized input");function x(I,z,E){var M="";typeof I=="string"&&(I=JSON.parse(I)),typeof z=="string"&&(z=JSON.parse(z));var ne=Array.isArray(I)&&0<I.length,Z=!Array.isArray(z[0]);if(ne&&C){for(var se=0;se<I.length;se++)0<se&&(M+=T),M+=$(I[se],se);0<z.length&&(M+=N)}for(var P=0;P<z.length;P++){var W=ne?I.length:z[P].length,Y=!1,de=ne?Object.keys(z[P]).length===0:z[P].length===0;if(E&&!ne&&(Y=E==="greedy"?z[P].join("").trim()==="":z[P].length===1&&z[P][0].length===0),E==="greedy"&&ne){for(var ae=[],ke=0;ke<W;ke++){var ge=Z?I[ke]:ke;ae.push(z[P][ge])}Y=ae.join("").trim()===""}if(!Y){for(var fe=0;fe<W;fe++){0<fe&&!de&&(M+=T);var Le=ne&&Z?I[fe]:fe;M+=$(z[P][Le],fe)}P<z.length-1&&(!E||0<W&&!de)&&(M+=N)}}return M}function $(I,z){if(I==null)return"";if(I.constructor===Date)return JSON.stringify(I).slice(1,25);var E=!1;V&&typeof I=="string"&&V.test(I)&&(I="'"+I,E=!0);var M=I.toString().replace(R,q);return(E=E||p===!0||typeof p=="function"&&p(I,z)||Array.isArray(p)&&p[z]||function(ne,Z){for(var se=0;se<Z.length;se++)if(-1<ne.indexOf(Z[se]))return!0;return!1}(M,l.BAD_DELIMITERS)||-1<M.indexOf(T)||M.charAt(0)===" "||M.charAt(M.length-1)===" ")?H+M+H:M}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!i.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=D,l.ParserHandle=S,l.NetworkStreamer=_,l.FileStreamer=g,l.StringStreamer=b,l.ReadableStreamStreamer=m,i.jQuery){var h=i.jQuery;h.fn.parse=function(u){var f=u.config||{},p=[];return this.each(function(N){if(!(h(this).prop("tagName").toUpperCase()==="INPUT"&&h(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)p.push({file:this.files[H],inputElem:this,instanceConfig:h.extend({},f)})}),C(),this;function C(){if(p.length!==0){var N,H,q,k,y=p[0];if(O(u.before)){var V=u.before(y.file,y.inputElem);if(typeof V=="object"){if(V.action==="abort")return N="AbortError",H=y.file,q=y.inputElem,k=V.reason,void(O(u.error)&&u.error({name:N},H,q,k));if(V.action==="skip")return void T();typeof V.config=="object"&&(y.instanceConfig=h.extend(y.instanceConfig,V.config))}else if(V==="skip")return void T()}var R=y.instanceConfig.complete;y.instanceConfig.complete=function(x){O(R)&&R(x,y.file,y.inputElem),T()},l.parse(y.file,y.instanceConfig)}else O(u.complete)&&u.complete()}function T(){p.splice(0,1),C()}}}function c(u){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(f){var p=K(f);p.chunkSize=parseInt(p.chunkSize),f.step||f.chunk||(p.chunkSize=null),this._handle=new S(p),(this._handle.streamer=this)._config=p}).call(this,u),this.parseChunk=function(f,p){if(this.isFirstChunk&&O(this._config.beforeFirstChunk)){var C=this._config.beforeFirstChunk(f);C!==void 0&&(f=C)}this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+f;this._partialLine="";var N=this._handle.parse(T,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var H=N.meta.cursor;this._finished||(this._partialLine=T.substring(H-this._baseIndex),this._baseIndex=H),N&&N.data&&(this._rowCount+=N.data.length);var q=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)i.postMessage({results:N,workerId:l.WORKER_ID,finished:q});else if(O(this._config.chunk)&&!p){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);N=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!q||!O(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),q||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(f){O(this._config.error)?this._config.error(f):s&&this._config.error&&i.postMessage({workerId:l.WORKER_ID,error:f,finished:!1})}}function _(u){var f;(u=u||{}).chunkSize||(u.chunkSize=l.RemoteChunkSize),c.call(this,u),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(p){this._input=p,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(f=new XMLHttpRequest,this._config.withCredentials&&(f.withCredentials=this._config.withCredentials),r||(f.onload=re(this._chunkLoaded,this),f.onerror=re(this._chunkError,this)),f.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var p=this._config.downloadRequestHeaders;for(var C in p)f.setRequestHeader(C,p[C])}if(this._config.chunkSize){var T=this._start+this._config.chunkSize-1;f.setRequestHeader("Range","bytes="+this._start+"-"+T)}try{f.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}r&&f.status===0&&this._chunkError()}},this._chunkLoaded=function(){f.readyState===4&&(f.status<200||400<=f.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:f.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(p){var C=p.getResponseHeader("Content-Range");return C===null?-1:parseInt(C.substring(C.lastIndexOf("/")+1))}(f),this.parseChunk(f.responseText)))},this._chunkError=function(p){var C=f.statusText||p;this._sendError(new Error(C))}}function g(u){var f,p;(u=u||{}).chunkSize||(u.chunkSize=l.LocalChunkSize),c.call(this,u);var C=typeof FileReader<"u";this.stream=function(T){this._input=T,p=T.slice||T.webkitSlice||T.mozSlice,C?((f=new FileReader).onload=re(this._chunkLoaded,this),f.onerror=re(this._chunkError,this)):f=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input;if(this._config.chunkSize){var N=Math.min(this._start+this._config.chunkSize,this._input.size);T=p.call(T,this._start,N)}var H=f.readAsText(T,this._config.encoding);C||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(f.error)}}function b(u){var f;c.call(this,u=u||{}),this.stream=function(p){return f=p,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var p,C=this._config.chunkSize;return C?(p=f.substring(0,C),f=f.substring(C)):(p=f,f=""),this._finished=!f,this.parseChunk(p)}}}function m(u){c.call(this,u=u||{});var f=[],p=!0,C=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&f.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),f.length?this.parseChunk(f.shift()):p=!0},this._streamData=re(function(T){try{f.push(typeof T=="string"?T:T.toString(this._config.encoding)),p&&(p=!1,this._checkIsFinished(),this.parseChunk(f.shift()))}catch(N){this._streamError(N)}},this),this._streamError=re(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=re(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=re(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(u){var f,p,C,T=Math.pow(2,53),N=-T,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,k=this,y=0,V=0,R=!1,x=!1,$=[],I={data:[],errors:[],meta:{}};if(O(u.step)){var z=u.step;u.step=function(P){if(I=P,ne())M();else{if(M(),I.data.length===0)return;y+=P.data.length,u.preview&&y>u.preview?p.abort():(I.data=I.data[0],z(I,k))}}}function E(P){return u.skipEmptyLines==="greedy"?P.join("").trim()==="":P.length===1&&P[0].length===0}function M(){return I&&C&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),C=!1),u.skipEmptyLines&&(I.data=I.data.filter(function(P){return!E(P)})),ne()&&function(){if(!I)return;function P(Y,de){O(u.transformHeader)&&(Y=u.transformHeader(Y,de)),$.push(Y)}if(Array.isArray(I.data[0])){for(var W=0;ne()&&W<I.data.length;W++)I.data[W].forEach(P);I.data.splice(0,1)}else I.data.forEach(P)}(),function(){if(!I||!u.header&&!u.dynamicTyping&&!u.transform)return I;function P(Y,de){var ae,ke=u.header?{}:[];for(ae=0;ae<Y.length;ae++){var ge=ae,fe=Y[ae];u.header&&(ge=ae>=$.length?"__parsed_extra":$[ae]),u.transform&&(fe=u.transform(fe,ge)),fe=Z(ge,fe),ge==="__parsed_extra"?(ke[ge]=ke[ge]||[],ke[ge].push(fe)):ke[ge]=fe}return u.header&&(ae>$.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+$.length+" fields but parsed "+ae,V+de):ae<$.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+$.length+" fields but parsed "+ae,V+de)),ke}var W=1;return!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(P),W=I.data.length):I.data=P(I.data,0),u.header&&I.meta&&(I.meta.fields=$),V+=W,I}()}function ne(){return u.header&&$.length===0}function Z(P,W){return Y=P,u.dynamicTypingFunction&&u.dynamicTyping[Y]===void 0&&(u.dynamicTyping[Y]=u.dynamicTypingFunction(Y)),(u.dynamicTyping[Y]||u.dynamicTyping)===!0?W==="true"||W==="TRUE"||W!=="false"&&W!=="FALSE"&&(function(de){if(H.test(de)){var ae=parseFloat(de);if(N<ae&&ae<T)return!0}return!1}(W)?parseFloat(W):q.test(W)?new Date(W):W===""?null:W):W;var Y}function se(P,W,Y,de){var ae={type:P,code:W,message:Y};de!==void 0&&(ae.row=de),I.errors.push(ae)}this.parse=function(P,W,Y){var de=u.quoteChar||'"';if(u.newline||(u.newline=function(ge,fe){ge=ge.substring(0,1048576);var Le=new RegExp(U(fe)+"([^]*?)"+U(fe),"gm"),ve=(ge=ge.replace(Le,"")).split("\r"),Ke=ge.split(`
`),Ye=1<Ke.length&&Ke[0].length<ve[0].length;if(ve.length===1||Ye)return`
`;for(var Se=0,ie=0;ie<ve.length;ie++)ve[ie][0]===`
`&&Se++;return Se>=ve.length/2?`\r
`:"\r"}(P,de)),C=!1,u.delimiter)O(u.delimiter)&&(u.delimiter=u.delimiter(P),I.meta.delimiter=u.delimiter);else{var ae=function(ge,fe,Le,ve,Ke){var Ye,Se,ie,he;Ke=Ke||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Qe=0;Qe<Ke.length;Qe++){var ue=Ke[Qe],tt=0,Ee=0,xe=0;ie=void 0;for(var Xe=new D({comments:ve,delimiter:ue,newline:fe,preview:10}).parse(ge),Je=0;Je<Xe.data.length;Je++)if(Le&&E(Xe.data[Je]))xe++;else{var Re=Xe.data[Je].length;Ee+=Re,ie!==void 0?0<Re&&(tt+=Math.abs(Re-ie),ie=Re):ie=Re}0<Xe.data.length&&(Ee/=Xe.data.length-xe),(Se===void 0||tt<=Se)&&(he===void 0||he<Ee)&&1.99<Ee&&(Se=tt,Ye=ue,he=Ee)}return{successful:!!(u.delimiter=Ye),bestDelimiter:Ye}}(P,u.newline,u.skipEmptyLines,u.comments,u.delimitersToGuess);ae.successful?u.delimiter=ae.bestDelimiter:(C=!0,u.delimiter=l.DefaultDelimiter),I.meta.delimiter=u.delimiter}var ke=K(u);return u.preview&&u.header&&ke.preview++,f=P,p=new D(ke),I=p.parse(f,W,Y),M(),R?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return R},this.pause=function(){R=!0,p.abort(),f=O(u.chunk)?"":f.substring(p.getCharIndex())},this.resume=function(){k.streamer._halted?(R=!1,k.streamer.parseChunk(f,!0)):setTimeout(k.resume,3)},this.aborted=function(){return x},this.abort=function(){x=!0,p.abort(),I.meta.aborted=!0,O(u.complete)&&u.complete(I),f=""}}function U(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function D(u){var f,p=(u=u||{}).delimiter,C=u.newline,T=u.comments,N=u.step,H=u.preview,q=u.fastMode,k=f=u.quoteChar===void 0||u.quoteChar===null?'"':u.quoteChar;if(u.escapeChar!==void 0&&(k=u.escapeChar),(typeof p!="string"||-1<l.BAD_DELIMITERS.indexOf(p))&&(p=","),T===p)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<l.BAD_DELIMITERS.indexOf(T))&&(T=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var y=0,V=!1;this.parse=function(R,x,$){if(typeof R!="string")throw new Error("Input must be a string");var I=R.length,z=p.length,E=C.length,M=T.length,ne=O(N),Z=[],se=[],P=[],W=y=0;if(!R)return Ne();if(u.header&&!x){var Y=R.split(C)[0].split(p),de=[],ae={},ke=!1;for(var ge in Y){var fe=Y[ge];O(u.transformHeader)&&(fe=u.transformHeader(fe,ge));var Le=fe,ve=ae[fe]||0;for(0<ve&&(ke=!0,Le=fe+"_"+ve),ae[fe]=ve+1;de.includes(Le);)Le=Le+"_"+ve;de.push(Le)}if(ke){var Ke=R.split(C);Ke[0]=de.join(p),R=Ke.join(C)}}if(q||q!==!1&&R.indexOf(f)===-1){for(var Ye=R.split(C),Se=0;Se<Ye.length;Se++){if(P=Ye[Se],y+=P.length,Se!==Ye.length-1)y+=C.length;else if($)return Ne();if(!T||P.substring(0,M)!==T){if(ne){if(Z=[],xe(P.split(p)),ft(),V)return Ne()}else xe(P.split(p));if(H&&H<=Se)return Z=Z.slice(0,H),Ne(!0)}}return Ne()}for(var ie=R.indexOf(p,y),he=R.indexOf(C,y),Qe=new RegExp(U(k)+U(f),"g"),ue=R.indexOf(f,y);;)if(R[y]!==f)if(T&&P.length===0&&R.substring(y,y+M)===T){if(he===-1)return Ne();y=he+E,he=R.indexOf(C,y),ie=R.indexOf(p,y)}else if(ie!==-1&&(ie<he||he===-1))P.push(R.substring(y,ie)),y=ie+z,ie=R.indexOf(p,y);else{if(he===-1)break;if(P.push(R.substring(y,he)),Re(he+E),ne&&(ft(),V))return Ne();if(H&&Z.length>=H)return Ne(!0)}else for(ue=y,y++;;){if((ue=R.indexOf(f,ue+1))===-1)return $||se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Z.length,index:y}),Je();if(ue===I-1)return Je(R.substring(y,ue).replace(Qe,f));if(f!==k||R[ue+1]!==k){if(f===k||ue===0||R[ue-1]!==k){ie!==-1&&ie<ue+1&&(ie=R.indexOf(p,ue+1)),he!==-1&&he<ue+1&&(he=R.indexOf(C,ue+1));var tt=Xe(he===-1?ie:Math.min(ie,he));if(R.substr(ue+1+tt,z)===p){P.push(R.substring(y,ue).replace(Qe,f)),R[y=ue+1+tt+z]!==f&&(ue=R.indexOf(f,y)),ie=R.indexOf(p,y),he=R.indexOf(C,y);break}var Ee=Xe(he);if(R.substring(ue+1+Ee,ue+1+Ee+E)===C){if(P.push(R.substring(y,ue).replace(Qe,f)),Re(ue+1+Ee+E),ie=R.indexOf(p,y),ue=R.indexOf(f,y),ne&&(ft(),V))return Ne();if(H&&Z.length>=H)return Ne(!0);break}se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Z.length,index:y}),ue++}}else ue++}return Je();function xe(Me){Z.push(Me),W=y}function Xe(Me){var Bt=0;if(Me!==-1){var Fe=R.substring(ue+1,Me);Fe&&Fe.trim()===""&&(Bt=Fe.length)}return Bt}function Je(Me){return $||(Me===void 0&&(Me=R.substring(y)),P.push(Me),y=I,xe(P),ne&&ft()),Ne()}function Re(Me){y=Me,xe(P),P=[],he=R.indexOf(C,y)}function Ne(Me){return{data:Z,errors:se,meta:{delimiter:p,linebreak:C,aborted:V,truncated:!!Me,cursor:W+(x||0)}}}function ft(){N(Ne()),Z=[],se=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return y}}function L(u){var f=u.data,p=o[f.workerId],C=!1;if(f.error)p.userError(f.error,f.file);else if(f.results&&f.results.data){var T={abort:function(){C=!0,B(f.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:J,resume:J};if(O(p.userStep)){for(var N=0;N<f.results.data.length&&(p.userStep({data:f.results.data[N],errors:f.results.errors,meta:f.results.meta},T),!C);N++);delete f.results}else O(p.userChunk)&&(p.userChunk(f.results,T,f.file),delete f.results)}f.finished&&!C&&B(f.workerId,f.results)}function B(u,f){var p=o[u];O(p.userComplete)&&p.userComplete(f),p.terminate(),delete o[u]}function J(){throw new Error("Not implemented.")}function K(u){if(typeof u!="object"||u===null)return u;var f=Array.isArray(u)?[]:{};for(var p in u)f[p]=K(u[p]);return f}function re(u,f){return function(){u.apply(f,arguments)}}function O(u){return typeof u=="function"}return s&&(i.onmessage=function(u){var f=u.data;if(l.WORKER_ID===void 0&&f&&(l.WORKER_ID=f.workerId),typeof f.input=="string")i.postMessage({workerId:l.WORKER_ID,results:l.parse(f.input,f.config),finished:!0});else if(i.File&&f.input instanceof File||f.input instanceof Object){var p=l.parse(f.input,f.config);p&&i.postMessage({workerId:l.WORKER_ID,results:p,finished:!0})}}),(_.prototype=Object.create(c.prototype)).constructor=_,(g.prototype=Object.create(c.prototype)).constructor=g,(b.prototype=Object.create(b.prototype)).constructor=b,(m.prototype=Object.create(c.prototype)).constructor=m,l})})(Tr);var as=Tr.exports;const us=ls(as),fs="https://will-moore.github.io/ome2024-ngff-challenge/idr-mark.svg",cs="https://will-moore.github.io/ome2024-ngff-challenge/nfdi4bioimage.png",hs="https://raw.githubusercontent.com/will-moore/ome2024-ngff-challenge/hierarchy_browser/samples/ngff_samples.csv";let ds={IDR:"https://idr.openmicroscopy.org",Webknossos:"https://scalableminds.com",JAX:"http://jax.org","BioImage Archive":"https://www.ebi.ac.uk",Crick:"https://www.crick.ac.uk/","University of Muenster":"https://nfdi4bioimage.de/",Göttingen:"https://nfdi4bioimage.de/",Jülich:"https://nfdi4bioimage.de/",NFDI4BIOIMAGE:"https://nfdi4bioimage.de/"};function zi(t){if(t==="IDR")return fs;let e=ds[t];return e?e==="https://nfdi4bioimage.de/"?cs:`https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=${e}&size=24`:null}function Rr(t,e,n={}){us.parse(t,{header:!1,download:!0,skipEmptyLines:"greedy",complete:function(i){let r=["url"],s=i.data[0];s.length>1&&(r=s,i.data.shift());let o=i.data.map(c=>{let _={...n};for(let g=0;g<r.length;g++)_[r[g]]=c[g];return _}),a=o.filter(c=>{var _;return!((_=c.url)!=null&&_.endsWith(".csv"))}),l={};a.forEach(c=>{if(l[c.url]){console.warn("Removing duplicate URL:",c.url);return}l[c.url]=c}),a=Object.values(l);let h=o.filter(c=>{var _;return(_=c.url)==null?void 0:_.includes(".csv")});e.addCsv(t,h,a.length),e.addRows(a),h.forEach(c=>{let _=c.url;c.csv=_,Rr(_,e,c)})}})}async function Or(t){return await fetch(t).then(e=>e.json())}function Ti(t){return Math.floor(Math.random()*t)}function yn(t){if(!t)return"";const e=2;return t<1024?t+" B":t<1024*1024?(t/1024).toFixed(e)+" KB":t<1024*1024*1024?(t/(1024*1024)).toFixed(e)+" MB":t<1024*1024*1024*1024?(t/(1024*1024*1024)).toFixed(e)+" GB":t<1024*1024*1024*1024*1024?(t/(1024*1024*1024*1024)).toFixed(e)+" TB":(t/(1024*1024*1024*1024*1024)).toFixed(e)+" PB"}function _s(t,e){return Array.from({length:e-t},(n,i)=>i+t)}function gs(t,e,n){const i=t[0].shape,r=i[0],s=i[1],o=r*s;e||(e=t.map(Lr));let a=performance.now(),l=new Uint8ClampedArray(4*r*s).fill(0),h=0;for(let c=0;c<o;c++){for(let _=0;_<t.length;_++){let g=n[_],b=t[_].data,m=e[_],U=(b[c]-m[0])/(m[1]-m[0]);for(let D=0;D<3;D++){let L=U*g[D]<<0;l[h*4+D]=Math.max(l[h*4+D],L)}}l[h*4+3]=255,h+=1}return performance.now()-a<100&&ps(l,5)[4]<1&&(l=ms(l,2)),l}function ms(t,e){for(let n=0;n<t.length/4;n++)for(let i=0;i<3;i++){let r=t[n*4+i];r=Math.min(255,r*e),t[n*4+i]=r}return t}function ps(t,e=5){let n=new Array(e).fill(0);const i=256/e;let r=t.length/4;for(let s=0;s<r;s++){let o=t[s*4];o=Math.max(t[s*4+1],o),o=Math.max(t[s*4+2],o);let a=Math.floor(o/i);n[a]+=1}return n=n.map(s=>100*s/r),n}function Lr(t){const e=t.data;let n=0,i=1/0,r=t.data.length;for(let s=0;s<r;s++){let o=e[s];n=Math.max(n,o),i=Math.min(i,o)}return[i,n]}const bn=4,ut={cyan:"#00FFFF",yellow:"#FFFF00",magenta:"#FF00FF",red:"#FF0000",green:"#00FF00",blue:"#0000FF",white:"#FFFFFF"},bs=[ut.magenta,ut.green],vs=[ut.red,ut.green,ut.blue],Ri=Object.values(ut).slice(0,-2);function ys(t){let e;return t<=bn?e=Array(t).fill(!0):e=[...Array(bn).fill(!0),...Array(t-bn).fill(!1)],e}function ws(t,e){let n=[];if(t==1)n=[ut.white];else if(t==2)n=bs;else if(t===3)n=vs;else if(t<=bn)n=Ri.slice(0,t);else{n=Array(t).fill(ut.white);const i=e.flatMap((r,s)=>r?s:[]);for(const[r,s]of i.entries())n[s]=Ri[r]}return n.map(Mr)}function Mr(t){t.startsWith("#")&&(t=t.slice(1));const e=parseInt(t.slice(0,2),16),n=parseInt(t.slice(2,4),16),i=parseInt(t.slice(4,6),16);return[e,n,i]}class Fr{constructor(){this.store=Wn({})}async lookupOntologyTerm(e){let n=e.replace("NCBI:txid","");return(await Or(`https://rest.ensembl.org/taxonomy/id/${n}?content-type=application/json`)).name||e}addTerms(e){let n=Wt(this.store);[...new Set(e)].forEach(r=>{r&&(n[r]||(n[r]="Loading...",setTimeout(()=>{this.lookupOntologyTerm(r).then(s=>{this.addEntry(r,s)})},Math.random()*5e3)))})}addEntry(e,n){this.store.update(i=>(i[e]=n,i))}subscribe(e){return this.store.subscribe(e)}}class ks extends Fr{constructor(){super()}async lookupOntologyTerm(e){const n=e.replace("obo:","");return(await Or(`https://www.ebi.ac.uk/ols4/api/ontologies/fbbi/terms/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252F${n}`)).label||e}}const Dr=new Fr,jr=new ks,Oi=5;async function Yt(t,e){var r;let n=await fetch(`${t}/zarr.json`,{signal:e}).then(s=>{if(s.status===404)throw new Error(`${t}/zarr.json not found`);return s.json()}).catch(s=>[void 0,t]);const i=(r=n==null?void 0:n.attributes)==null?void 0:r.ome;if(!i)return[void 0,t];if(i.multiscales)return[i,t];if(i.plate){let s=i.plate.wells[0],o=`${t}/${s.path}/0`,[a,l]=await Yt(o);return[a,l,i.plate]}else if(i["bioformats2raw.layout"]){let s=`${t}/0`;return await Yt(s)}}class Es{constructor(e="rating",n=!1){this.store=Wn([]),this.selectedRow=Wn(null),this.sortColumn=e,this.sortAscending=n,this.csvFiles=[]}getCsvSourceList(e){let n;if(!e)n=this.csvFiles[0];else for(let r of this.csvFiles){if(r.source===e){n=r;break}for(let s of r.child_csv){if(s.source===e){n=s;break}for(let o of s.child_csv)if(o.source===e){n=o;break}}}return n?n.child_csv.map(r=>{let s=r.image_count||0;for(let o of r.child_csv)s+=o.image_count||0;return{...r,total_count:s}}):[]}addCsv(e,n,i){n=n.map(s=>({...s,child_csv:[]}));let r;for(let s of this.csvFiles){if(s.url===e){r=s;break}for(let o of s.child_csv){if(o.url===e){r=o;break}for(let a of o.child_csv)if(a.url===e){r=a;break}}}r?(r.image_count=i,r.child_csv=n):(r={url:e,image_count:i,child_csv:n},this.csvFiles.push(r))}addRows(e){e=e.map(r=>{if(r.written&&(r.written=parseFloat(r.written)),r.shape){let s=r.shape.split(",").map(a=>parseInt(a)),o;r.dimension_names?o=r.dimension_names.split(","):s.length==5&&(o=["t","c","z","y","x"]),o&&o.length==s.length&&o.forEach((a,l)=>r["size_"+a]=s[l]),r.dim_count=s.reduce((a,l)=>a+(l>1?1:0),0)}if(r.chunks){let s=r.chunks.split(",").map(o=>parseInt(o));r.chunk_pixels=s.reduce((o,a)=>o*a,1)}if(r.shards){let s=r.shards.split(",").map(o=>parseInt(o));r.shard_pixels=s.reduce((o,a)=>o*a,1)}return r.rating=Math.random()*4,r}),e.length>1&&(e[Ti(e.length)].rating=10+Math.random()*5,e[Ti(e.length)].rating=5+Math.random()*5),console.log("Adding rows",e),this.store.update(r=>(r.push(...e),r.sort((s,o)=>this.compareRows(s,o,!0)),r));let n=e.map(r=>r.organismId);Dr.addTerms(n);let i=e.map(r=>r.fbbiId);jr.addTerms(i)}populateRow(e,n){this.store.update(i=>(i=i.map(r=>(r.url===e&&(r={...r,...n}),r)),i))}async loadNgffMetadata(e){var g;const[n,i,r]=await Yt(e);let s=[],o=0,a=0,l=!1,h=!0,c={multiscales:n},_=i;if(r&&(o=r.wells.length,a=r.field_count||1),n){const b=(g=n[0])==null?void 0:g.datasets[0],m=b==null?void 0:b.path;if(m){const S=await fetch(`${i}/${m}/zarr.json`).then(U=>U.json()).catch(U=>{console.log(`----> Failed to parse ${i}/${m}/zarr.json`,U)});s=S==null?void 0:S.shape}}else console.log("No multiscales found"),l=!0,s=[0];this.populateRow(e,{image_attrs:c,image_url:_,shape:s,well_count:o,field_count:a,load_failed:l,loaded:h})}async loadRocrateJsonAllRows(){let e=Wt(this.store);for(let n=0;n<e.length;n=n+Oi){let i=_s(n,Math.min(n+Oi,e.length)).map(r=>this.loadRocrateJson(e[r].url));await Promise.all(i)}}compareRows(e,n,i=!1){let r=e[this.sortColumn],s=n[this.sortColumn];if(i)return r===void 0&&(r=0),s===void 0&&(s=0),r<s?this.sortAscending?-1:1:r>s?this.sortAscending?1:-1:0;r===void 0&&(r=""),s===void 0&&(s="");let o=0;return i?o=r-s:o=r.localeCompare(s),this.sortAscending?o:-o}sortTable(e,n=!0){this.sortColumn=e,this.sortAscending=n;let i=this.isColumnNumeric(e);this.store.update(r=>(r.sort((s,o)=>this.compareRows(s,o,i)),r))}isColumnNumeric(e){let n=Wt(this.store);for(let i of n){let r=i[e];if(r!==void 0&&r!=="")return!isNaN(r)}}emptyTable(){this.store.set([])}subscribe(e){return this.store.subscribe(e)}getRows(){return Wt(this.store)}getRow(e){return Wt(this.store)[e]}subscribeSelectedRow(e){return this.selectedRow.subscribe(e)}setSelectedRow(e){this.selectedRow.set(e)}}const ze=new Es;function Ss(t){let e,n,i,r,s,o,a,l;return{c(){e=A("button"),n=j(t[1]),i=G(),r=A("span"),r.textContent="^",s=G(),o=A("span"),o.textContent="^",w(r,"class","acc svelte-v17gm5"),Ot(r,"strong",t[3]==t[0]&&t[4]),w(o,"class","dec svelte-v17gm5"),Ot(o,"strong",t[3]==t[0]&&!t[4]),w(e,"class","svelte-v17gm5")},m(h,c){te(h,e,c),d(e,n),d(e,i),d(e,r),d(e,s),d(e,o),a||(l=be(e,"click",t[5]),a=!0)},p(h,[c]){c&2&&me(n,h[1]),c&25&&Ot(r,"strong",h[3]==h[0]&&h[4]),c&25&&Ot(o,"strong",h[3]==h[0]&&!h[4])},i:Te,o:Te,d(h){h&&X(e),a=!1,l()}}}function As(t,e,n){let{col_name:i}=e,{col_label:r}=e,{handleSort:s}=e,{sortedBy:o}=e,{sortAscending:a}=e;const l=()=>s(i);return t.$$set=h=>{"col_name"in h&&n(0,i=h.col_name),"col_label"in h&&n(1,r=h.col_label),"handleSort"in h&&n(2,s=h.handleSort),"sortedBy"in h&&n(3,o=h.sortedBy),"sortAscending"in h&&n(4,a=h.sortAscending)},[i,r,s,o,a,l]}class ot extends et{constructor(e){super(),$e(this,e,As,Ss,Ze,{col_name:0,col_label:1,handleSort:2,sortedBy:3,sortAscending:4})}}const mn={AUTO:"auto",START:"start",CENTER:"center",END:"end"},nt={HORIZONTAL:"horizontal",VERTICAL:"vertical"},qt={OBSERVED:0,REQUESTED:1},Is={[nt.VERTICAL]:"top",[nt.HORIZONTAL]:"left"},Li={[nt.VERTICAL]:"scrollTop",[nt.HORIZONTAL]:"scrollLeft"};class Cs{constructor({itemSize:e,itemCount:n,estimatedItemSize:i}){this.itemSize=e,this.itemCount=n,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:n,estimatedItemSize:i}){n!=null&&(this.itemCount=n),i!=null&&(this.estimatedItemSize=i),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:n}=this;return typeof n=="function"?n(e):Array.isArray(n)?n[e]:n}computeTotalSizeAndPositionData(){let e=0;for(let n=0;n<this.itemCount;n++){const i=this.getSize(n),r=e;e+=i,this.itemSizeAndPositionData[n]={offset:r,size:i}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const n=this.getSizeAndPositionOfLastMeasuredItem();let i=n.offset+n.size;for(let r=this.lastMeasuredIndex+1;r<=e;r++){const s=this.getSize(r);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${r} of value ${s}`);this.itemSizeAndPositionData[r]={offset:i,size:s},i+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=mn.START,containerSize:n,currentOffset:i,targetIndex:r}){if(n<=0)return 0;const s=this.getSizeAndPositionForIndex(r),o=s.offset,a=o-n+s.size;let l;switch(e){case mn.END:l=a;break;case mn.CENTER:l=o-(n-s.size)/2;break;case mn.START:l=o;break;default:l=Math.max(a,Math.min(o,i))}const h=this.getTotalSize();return Math.max(0,Math.min(h-n,l))}getVisibleRange({containerSize:e=0,offset:n,overscanCount:i}){if(this.getTotalSize()===0)return{};const s=n+e;let o=this.findNearestItem(n);if(o===void 0)throw Error(`Invalid offset ${n} specified`);const a=this.getSizeAndPositionForIndex(o);n=a.offset+a.size;let l=o;for(;n<s&&l<this.itemCount-1;)l++,n+=this.getSizeAndPositionForIndex(l).size;return i&&(o=Math.max(0,o-i),l=Math.min(l+i,this.itemCount-1)),{start:o,stop:l}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const n=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this.lastMeasuredIndex);return n.offset>=e?this.binarySearch({high:i,low:0,offset:e}):this.exponentialSearch({index:i,offset:e})}binarySearch({low:e,high:n,offset:i}){let r=0,s=0;for(;e<=n;){if(r=e+Math.floor((n-e)/2),s=this.getSizeAndPositionForIndex(r).offset,s===i)return r;s<i?e=r+1:s>i&&(n=r-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:n}){let i=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<n;)e+=i,i*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:n})}}const zs=t=>({}),Mi=t=>({});function Fi(t,e,n){const i=t.slice();return i[37]=e[n],i}const Ts=t=>({style:t[0]&4,index:t[0]&4}),Di=t=>({style:t[37].style,index:t[37].index}),Rs=t=>({}),ji=t=>({});function Ni(t,e){let n,i;const r=e[21].item,s=Pn(r,e,e[20],Di);return{key:t,first:null,c(){n=En(),s&&s.c(),this.first=n},m(o,a){te(o,n,a),s&&s.m(o,a),i=!0},p(o,a){e=o,s&&s.p&&(!i||a[0]&1048580)&&Un(s,r,e,e[20],i?Bn(r,e[20],a,Ts):qn(e[20]),Di)},i(o){i||(ee(s,o),i=!0)},o(o){le(s,o),i=!1},d(o){o&&X(n),s&&s.d(o)}}}function Os(t){let e,n,i,r=[],s=new Map,o,a;const l=t[21].header,h=Pn(l,t,t[20],ji);let c=He(t[2]);const _=m=>m[0]?m[0](m[37].index):m[37].index;for(let m=0;m<c.length;m+=1){let S=Fi(t,c,m),U=_(S);s.set(U,r[m]=Ni(U,S))}const g=t[21].footer,b=Pn(g,t,t[20],Mi);return{c(){e=A("div"),h&&h.c(),n=G(),i=A("div");for(let m=0;m<r.length;m+=1)r[m].c();o=G(),b&&b.c(),w(i,"class","virtual-list-inner svelte-dwpad5"),w(i,"style",t[4]),w(e,"class","virtual-list-wrapper svelte-dwpad5"),w(e,"style",t[3])},m(m,S){te(m,e,S),h&&h.m(e,null),d(e,n),d(e,i);for(let U=0;U<r.length;U+=1)r[U]&&r[U].m(i,null);d(e,o),b&&b.m(e,null),t[22](e),a=!0},p(m,S){h&&h.p&&(!a||S[0]&1048576)&&Un(h,l,m,m[20],a?Bn(l,m[20],S,Rs):qn(m[20]),ji),S[0]&1048581&&(c=He(m[2]),jt(),r=zr(r,S,_,1,m,c,s,i,is,Ni,null,Fi),Nt()),(!a||S[0]&16)&&w(i,"style",m[4]),b&&b.p&&(!a||S[0]&1048576)&&Un(b,g,m,m[20],a?Bn(g,m[20],S,zs):qn(m[20]),Mi),(!a||S[0]&8)&&w(e,"style",m[3])},i(m){if(!a){ee(h,m);for(let S=0;S<c.length;S+=1)ee(r[S]);ee(b,m),a=!0}},o(m){le(h,m);for(let S=0;S<r.length;S+=1)le(r[S]);le(b,m),a=!1},d(m){m&&X(e),h&&h.d(m);for(let S=0;S<r.length;S+=1)r[S].d();b&&b.d(m),t[22](null)}}}const Ls=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function Ms(t,e,n){let{$$slots:i={},$$scope:r}=e,{height:s}=e,{width:o="100%"}=e,{itemCount:a}=e,{itemSize:l}=e,{estimatedItemSize:h=null}=e,{stickyIndices:c=null}=e,{getKey:_=null}=e,{scrollDirection:g=nt.VERTICAL}=e,{scrollOffset:b=null}=e,{scrollToIndex:m=null}=e,{scrollToAlignment:S=null}=e,{scrollToBehaviour:U="instant"}=e,{overscanCount:D=3}=e;const L=Xr(),B=new Cs({itemCount:a,itemSize:l,estimatedItemSize:$()});let J=!1,K,re=[],O={offset:b||m!=null&&re.length&&V(m)||0,scrollChangeReason:qt.REQUESTED},u=O,f={scrollToIndex:m,scrollToAlignment:S,scrollOffset:b,itemCount:a,itemSize:l,estimatedItemSize:h},p={},C="",T="";q(),an(()=>{n(18,J=!0),K.addEventListener("scroll",R,Ls),b!=null?k(b):m!=null&&k(V(m))}),$n(()=>{J&&K.removeEventListener("scroll",R)});function N(){if(!J)return;const E=f.scrollToIndex!==m||f.scrollToAlignment!==S,M=f.itemCount!==a||f.itemSize!==l||f.estimatedItemSize!==h;M&&(B.updateConfig({itemSize:l,itemCount:a,estimatedItemSize:$()}),y()),f.scrollOffset!==b?n(19,O={offset:b||0,scrollChangeReason:qt.REQUESTED}):typeof m=="number"&&(E||M)&&n(19,O={offset:V(m,S,a),scrollChangeReason:qt.REQUESTED}),f={scrollToIndex:m,scrollToAlignment:S,scrollOffset:b,itemCount:a,itemSize:l,estimatedItemSize:h}}function H(){if(!J)return;const{offset:E,scrollChangeReason:M}=O;(u.offset!==E||u.scrollChangeReason!==M)&&q(),u.offset!==E&&M===qt.REQUESTED&&k(E),u=O}function q(){const{offset:E}=O,{start:M,stop:ne}=B.getVisibleRange({containerSize:g===nt.VERTICAL?s:o,offset:E,overscanCount:D});let Z=[];const se=B.getTotalSize();g===nt.VERTICAL?(n(3,C=`height:${s}${typeof s=="number"?"px":""};width:${o};`),n(4,T=`flex-direction:column;height:${se}px;`)):(n(3,C=`height:${s};width:${o}${typeof o=="number"?"px":""}`),n(4,T=`min-height:100%;width:${se}px;`));const P=c!=null&&c.length!==0;if(P)for(let W=0;W<c.length;W++){const Y=c[W];Z.push({index:Y,style:I(Y,!0)})}if(M!==void 0&&ne!==void 0){for(let W=M;W<=ne;W++)P&&c.includes(W)||Z.push({index:W,style:I(W,!1)});L("itemsUpdated",{start:M,end:ne})}n(2,re=Z)}function k(E){"scroll"in K?K.scroll({[Is[g]]:E,behavior:U}):n(1,K[Li[g]]=E,K)}function y(E=0){p={},B.resetItem(E),q()}function V(E,M=S,ne=a){return(E<0||E>=ne)&&(E=0),B.getUpdatedOffsetForIndex({align:M,containerSize:g===nt.VERTICAL?s:o,currentOffset:O.offset||0,targetIndex:E})}function R(E){const M=x();M<0||O.offset===M||E.target!==K||(n(19,O={offset:M,scrollChangeReason:qt.OBSERVED}),L("afterScroll",{offset:M,event:E}))}function x(){return K[Li[g]]}function $(){return h||typeof l=="number"&&l||50}function I(E,M){if(p[E])return p[E];const{size:ne,offset:Z}=B.getSizeAndPositionForIndex(E);let se;return g===nt.VERTICAL?(se=`left:0;width:100%;height:${ne}px;`,M?se+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${Z}px;margin-bottom:${-(Z+ne)}px;`:se+=`position:absolute;top:${Z}px;`):(se=`top:0;width:${ne}px;`,M?se+=`position:sticky;z-index:1;left:0;margin-left:${Z}px;margin-right:${-(Z+ne)}px;`:se+=`position:absolute;height:100%;left:${Z}px;`),p[E]=se}function z(E){Dt[E?"unshift":"push"](()=>{K=E,n(1,K)})}return t.$$set=E=>{"height"in E&&n(5,s=E.height),"width"in E&&n(6,o=E.width),"itemCount"in E&&n(7,a=E.itemCount),"itemSize"in E&&n(8,l=E.itemSize),"estimatedItemSize"in E&&n(9,h=E.estimatedItemSize),"stickyIndices"in E&&n(10,c=E.stickyIndices),"getKey"in E&&n(0,_=E.getKey),"scrollDirection"in E&&n(11,g=E.scrollDirection),"scrollOffset"in E&&n(12,b=E.scrollOffset),"scrollToIndex"in E&&n(13,m=E.scrollToIndex),"scrollToAlignment"in E&&n(14,S=E.scrollToAlignment),"scrollToBehaviour"in E&&n(15,U=E.scrollToBehaviour),"overscanCount"in E&&n(16,D=E.overscanCount),"$$scope"in E&&n(20,r=E.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&N(),t.$$.dirty[0]&524288&&H(),t.$$.dirty[0]&263264&&J&&y(0)},[_,K,re,C,T,s,o,a,l,h,c,g,b,m,S,U,D,y,J,O,r,i,z]}class Fs extends et{constructor(e){super(),$e(this,e,Ms,Os,Ze,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get height(){return this.$$.ctx[5]}set height(e){this.$$set({height:e}),Be()}get width(){return this.$$.ctx[6]}set width(e){this.$$set({width:e}),Be()}get itemCount(){return this.$$.ctx[7]}set itemCount(e){this.$$set({itemCount:e}),Be()}get itemSize(){return this.$$.ctx[8]}set itemSize(e){this.$$set({itemSize:e}),Be()}get estimatedItemSize(){return this.$$.ctx[9]}set estimatedItemSize(e){this.$$set({estimatedItemSize:e}),Be()}get stickyIndices(){return this.$$.ctx[10]}set stickyIndices(e){this.$$set({stickyIndices:e}),Be()}get getKey(){return this.$$.ctx[0]}set getKey(e){this.$$set({getKey:e}),Be()}get scrollDirection(){return this.$$.ctx[11]}set scrollDirection(e){this.$$set({scrollDirection:e}),Be()}get scrollOffset(){return this.$$.ctx[12]}set scrollOffset(e){this.$$set({scrollOffset:e}),Be()}get scrollToIndex(){return this.$$.ctx[13]}set scrollToIndex(e){this.$$set({scrollToIndex:e}),Be()}get scrollToAlignment(){return this.$$.ctx[14]}set scrollToAlignment(e){this.$$set({scrollToAlignment:e}),Be()}get scrollToBehaviour(){return this.$$.ctx[15]}set scrollToBehaviour(e){this.$$set({scrollToBehaviour:e}),Be()}get overscanCount(){return this.$$.ctx[16]}set overscanCount(e){this.$$set({overscanCount:e}),Be()}get recomputeSizes(){return this.$$.ctx[17]}}class un extends Error{constructor(e,n={}){super(`Node not found: ${e}`,n),this.name="NodeNotFoundError"}}class ei extends Error{constructor(e){super(`Missing key: ${e}`),this.name="KeyError"}}const Ds="modulepreload",js=function(t){return"https://will-moore.github.io/ome2024-ngff-challenge/"+t},Pi={},Vt=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(n.map(a=>{if(a=js(a),a in Pi)return;Pi[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":Ds,l||(c.as="script"),c.crossOrigin="",c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((_,g)=>{c.addEventListener("load",_),c.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}return r.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Ge;class Nr{constructor(e,n,i){Ae(this,Ge);typeof e=="number"?we(this,Ge,new Uint8Array(e)):e instanceof ArrayBuffer?we(this,Ge,new Uint8Array(e,n,i)):we(this,Ge,new Uint8Array(Array.from(e,r=>r?1:0)))}get BYTES_PER_ELEMENT(){return 1}get byteOffset(){return Q(this,Ge).byteOffset}get byteLength(){return Q(this,Ge).byteLength}get buffer(){return Q(this,Ge).buffer}get length(){return Q(this,Ge).length}get(e){let n=Q(this,Ge)[e];return typeof n=="number"?n!==0:n}set(e,n){Q(this,Ge)[e]=n?1:0}fill(e){Q(this,Ge).fill(e?1:0)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}Ge=new WeakMap;var Mt;class ti{constructor(e,n,i,r){oe(this,"_data");oe(this,"chars");Ae(this,Mt);if(this.chars=e,we(this,Mt,new TextEncoder),typeof n=="number")this._data=new Uint8Array(n*e);else if(n instanceof ArrayBuffer)r&&(r=r*e),this._data=new Uint8Array(n,i,r);else{let s=Array.from(n);this._data=new Uint8Array(s.length*e);for(let o=0;o<s.length;o++)this.set(o,s[o])}}get BYTES_PER_ELEMENT(){return this.chars}get byteOffset(){return this._data.byteOffset}get byteLength(){return this._data.byteLength}get buffer(){return this._data.buffer}get length(){return this.byteLength/this.BYTES_PER_ELEMENT}get(e){const n=new Uint8Array(this.buffer,this.byteOffset+this.chars*e,this.chars);return new TextDecoder().decode(n).replace(/\x00/g,"")}set(e,n){const i=new Uint8Array(this.buffer,this.byteOffset+this.chars*e,this.chars);i.fill(0),i.set(Q(this,Mt).encode(n))}fill(e){const n=Q(this,Mt).encode(e);for(let i=0;i<this.length;i++)this._data.set(n,i*this.chars)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}Mt=new WeakMap;var De;const li=class li{constructor(e,n,i,r){Ae(this,De);oe(this,"chars");if(this.chars=e,typeof n=="number")we(this,De,new Int32Array(n*e));else if(n instanceof ArrayBuffer)r&&(r*=e),we(this,De,new Int32Array(n,i,r));else{const s=n,o=new li(e,1);we(this,De,new Int32Array(function*(){for(let a of s)o.set(0,a),yield*Q(o,De)}()))}}get BYTES_PER_ELEMENT(){return Q(this,De).BYTES_PER_ELEMENT*this.chars}get byteLength(){return Q(this,De).byteLength}get byteOffset(){return Q(this,De).byteOffset}get buffer(){return Q(this,De).buffer}get length(){return Q(this,De).length/this.chars}get(e){const n=this.chars*e;let i="";for(let r=0;r<this.chars;r++)i+=String.fromCodePoint(Q(this,De)[n+r]);return i.replace(/\u0000/g,"")}set(e,n){const i=this.chars*e,r=Q(this,De).subarray(i,i+this.chars);r.fill(0);for(let s=0;s<this.chars;s++)r[s]=n.codePointAt(s)??0}fill(e){this.set(0,e);let n=Q(this,De).subarray(0,this.chars);for(let i=1;i<this.length;i++)Q(this,De).set(n,i*this.chars)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}};De=new WeakMap;let Qt=li;function fn(t){const e=new TextDecoder().decode(t);return JSON.parse(e)}function Bi(t,e){const n=e/2,i=e-1;let r=0;for(let s=0;s<t.length;s+=e)for(let o=0;o<n;o+=1)r=t[s+o],t[s+o]=t[s+i-o],t[s+i-o]=r}const Ns={int8:Int8Array,int16:Int16Array,int32:Int32Array,int64:globalThis.BigInt64Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,uint64:globalThis.BigUint64Array,float32:Float32Array,float64:Float64Array,bool:Nr},Ps=/v2:([US])(\d+)/;function Pr(t){if(t==="v2:object")return globalThis.Array;let e=t.match(Ps);if(e){let[,i,r]=e;return(i==="U"?Qt:ti).bind(null,Number(r))}let n=Ns[t];if(!n)throw new Error(`Unknown or unsupported data_type: ${t}`);return n}function At(t,e){return(e==="C"?Bs:Us)(t)}function Bs(t){const e=t.length,n=globalThis.Array(e);for(let i=e-1,r=1;i>=0;i--)n[i]=r,r*=t[i];return n}function Us(t){const e=t.length,n=globalThis.Array(e);for(let i=0,r=1;i<e;i++)n[i]=r,r*=t[i];return n}function qs({name:t,configuration:e}){if(t==="default"){const n=(e==null?void 0:e.separator)??"/";return i=>["c",...i].join(n)}if(t==="v2"){const n=(e==null?void 0:e.separator)??".";return i=>i.join(n)||"0"}throw new Error(`Unknown chunk key encoding: ${t}`)}function Hn(t){var n;const e=t.find(i=>i.name==="transpose");return((n=e==null?void 0:e.configuration)==null?void 0:n.order)==="F"?"F":"C"}const Vs=/^([<|>])(.*)$/;function Ws(t){if(t==="|O")return{data_type:"v2:object"};let e=t.match(Vs);if(!e)throw new Error(`Invalid dtype: ${t}`);let[,n,i]=e,r={b1:"bool",i1:"int8",u1:"uint8",i2:"int16",u2:"uint16",i4:"int32",u4:"uint32",i8:"int64",u8:"uint64",f4:"float32",f8:"float64"}[i]??(i.startsWith("S")||i.startsWith("U")?`v2:${i}`:void 0);if(!r)throw new Error(`Unsupported or unknown dtype: ${t}`);return n==="|"?{data_type:r}:{data_type:r,endian:n==="<"?"little":"big"}}function Hs(t,e={}){let n=[],i=Ws(t.dtype);t.order==="F"&&n.push({name:"transpose",configuration:{order:"F"}}),"endian"in i&&i.endian==="big"&&n.push({name:"bytes",configuration:{endian:"big"}});for(let{id:r,...s}of t.filters??[])n.push({name:r,configuration:s});if(t.compressor){let{id:r,...s}=t.compressor;n.push({name:r,configuration:s})}return{zarr_format:3,node_type:"array",shape:t.shape,data_type:i.data_type,chunk_grid:{name:"regular",configuration:{chunk_shape:t.chunks}},chunk_key_encoding:{name:"v2",configuration:{separator:t.dimension_separator??"."}},codecs:n,fill_value:t.fill_value,attributes:e}}function Ks(t,e={}){return{zarr_format:3,node_type:"group",attributes:e}}function Js(t,e){if(e!=="number"&&e!=="bigint"&&e!=="boolean"&&e!=="object"&&e!=="string")return t===e;let n=t==="bool";if(e==="boolean")return n;let i=t.startsWith("v2:U")||t.startsWith("v2:S");if(e==="string")return i;let r=t==="int64"||t==="uint64";if(e==="bigint")return r;let s=t==="v2:object";return e==="object"?s:!i&&!r&&!n&&!s}function Gs(t){return(t==null?void 0:t.name)==="sharding_indexed"}function Br(t){return(t.data_type==="uint64"||t.data_type==="int64")&&t.fill_value!=null?BigInt(t.fill_value):t.fill_value}const Ui=Ys();function Ys(){const t=new Uint32Array([305419896]);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)[0]!==18}function qi(t){return"BYTES_PER_ELEMENT"in t?t.BYTES_PER_ELEMENT:4}var Zt,at,Xt,xt,Ft;const ai=class ai{constructor(e,n){oe(this,"kind","array_to_bytes");Ae(this,Zt);Ae(this,at);Ae(this,Xt);Ae(this,xt);Ae(this,Ft);we(this,Ft,e==null?void 0:e.endian),we(this,at,Pr(n.data_type)),we(this,xt,n.shape),we(this,Zt,At(n.shape,Hn(n.codecs)));const i=new(Q(this,at))(0);we(this,Xt,i.BYTES_PER_ELEMENT)}static fromConfig(e,n){return new ai(e,n)}encode(e){let n=new Uint8Array(e.data.buffer);return Ui&&Q(this,Ft)==="big"&&Bi(n,qi(Q(this,at))),n}decode(e){return Ui&&Q(this,Ft)==="big"&&Bi(e,qi(Q(this,at))),{data:new(Q(this,at))(e.buffer,e.byteOffset,e.byteLength/Q(this,Xt)),shape:Q(this,xt),stride:Q(this,Zt)}}};Zt=new WeakMap,at=new WeakMap,Xt=new WeakMap,xt=new WeakMap,Ft=new WeakMap;let wn=ai;class ni{constructor(){oe(this,"kind","bytes_to_bytes")}static fromConfig(){return new ni}encode(e){throw new Error("Not implemented")}decode(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength-4)}}function Qs(t,e){if(Number.isNaN(e))throw new Error("JsonCodec allow_nan is false but NaN was encountered during encoding.");if(e===Number.POSITIVE_INFINITY)throw new Error("JsonCodec allow_nan is false but Infinity was encountered during encoding.");if(e===Number.NEGATIVE_INFINITY)throw new Error("JsonCodec allow_nan is false but -Infinity was encountered during encoding.");return e}function Zs(t,e){return e instanceof Object&&!Array.isArray(e)?Object.keys(e).sort().reduce((n,i)=>(n[i]=e[i],n),{}):e}var $t,en;const ui=class ui{constructor(e={}){oe(this,"configuration");oe(this,"kind","array_to_bytes");Ae(this,$t);Ae(this,en);this.configuration=e;const{encoding:n="utf-8",skipkeys:i=!1,ensure_ascii:r=!0,check_circular:s=!0,allow_nan:o=!0,sort_keys:a=!0,indent:l,strict:h=!0}=e;let c=e.separators;c||(l?c=[", ",": "]:c=[",",":"]),we(this,$t,{encoding:n,skipkeys:i,ensure_ascii:r,check_circular:s,allow_nan:o,indent:l,separators:c,sort_keys:a}),we(this,en,{strict:h})}static fromConfig(e){return new ui(e)}encode(e){const{indent:n,encoding:i,ensure_ascii:r,check_circular:s,allow_nan:o,sort_keys:a}=Q(this,$t);if(i!=="utf-8")throw new Error("JsonCodec does not yet support non-utf-8 encoding.");const l=[];if(!s)throw new Error("JsonCodec does not yet support skipping the check for circular references during encoding.");o||l.push(Qs),a&&l.push(Zs);const h=Array.from(e.data);h.push("|O"),h.push(e.shape);let c;l.length&&(c=(g,b)=>{let m=b;for(let S of l)m=S(g,m);return m});let _=JSON.stringify(h,c,n);return r&&(_=_.replace(/[\u007F-\uFFFF]/g,g=>{const b=`0000${g.charCodeAt(0).toString(16)}`;return`\\u${b.substring(b.length-4)}`})),new TextEncoder().encode(_)}decode(e){const{strict:n}=Q(this,en);if(!n)throw new Error("JsonCodec does not yet support non-strict decoding.");const i=fn(e),r=i.pop();if(i.pop(),!r)throw new Error("0D not implemented for JsonCodec.");const s=At(r,"C");return{data:i,shape:r,stride:s}}};$t=new WeakMap,en=new WeakMap;let Kn=ui;function Vi(t){return t instanceof Nr||t instanceof ti||t instanceof Qt?new Proxy(t,{get(n,i){return n.get(Number(i))},set(n,i,r){return n.set(Number(i),r),!0}}):t}function Xs(t,e){let n;return t.data instanceof ti||t.data instanceof Qt?n=new t.constructor(t.data.length,t.data.chars):n=new t.constructor(t.data.length),{data:n,shape:t.shape,stride:At(t.shape,e)}}function xs(t,e){let n=Xs(t,e),i=t.shape.length,r=t.data.length,s=Array(i).fill(0),o=Vi(t.data),a=Vi(n.data);for(let l=0;l<r;l++){let h=0;for(let c=0;c<i;c++)h+=s[c]*n.stride[c];a[h]=o[l],s[0]+=1;for(let c=0;c<i;c++)if(s[c]===t.shape[c]){if(c+1===i)break;s[c]=0,s[c+1]+=1}}return n}function $s(t){if(!t.stride)return"C";let e=At(t.shape,"C");return t.stride.every((n,i)=>n===e[i])?"C":"F"}class ii{constructor(e){oe(this,"configuration");oe(this,"kind","array_to_array");this.configuration=e}static fromConfig(e){return new ii(e)}encode(e){var n,i;return $s(e)===((n=this.configuration)==null?void 0:n.order)?e:xs(e,((i=this.configuration)==null?void 0:i.order)??"C")}decode(e){return e}}var tn,nn;const fi=class fi{constructor(e){oe(this,"kind","array_to_bytes");Ae(this,tn);Ae(this,nn);we(this,tn,e),we(this,nn,At(e,"C"))}static fromConfig(e,n){return new fi(n.shape)}encode(e){throw new Error("Method not implemented.")}decode(e){let n=new TextDecoder,i=new DataView(e.buffer),r=Array(i.getUint32(0,!0)),s=4;for(let o=0;o<r.length;o++){let a=i.getUint32(s,!0);s+=4,r[o]=n.decode(e.buffer.slice(s,s+a)),s+=a}return{data:r,shape:Q(this,tn),stride:Q(this,nn)}}};tn=new WeakMap,nn=new WeakMap;let Jn=fi;function eo(){return new Map().set("blosc",()=>Vt(()=>import("./blosc-E49GQuAK.js"),__vite__mapDeps([0,1])).then(t=>t.default)).set("gzip",()=>Vt(()=>import("./gzip-CF-9a_hd.js"),__vite__mapDeps([2,3])).then(t=>t.default)).set("lz4",()=>Vt(()=>import("./lz4-BIGKWw27.js"),__vite__mapDeps([4,1])).then(t=>t.default)).set("zlib",()=>Vt(()=>import("./zlib-CBiqHlio.js"),__vite__mapDeps([5,3])).then(t=>t.default)).set("zstd",()=>Vt(()=>import("./zstd-IvP746pw.js"),__vite__mapDeps([6,1])).then(t=>t.default)).set("transpose",()=>ii).set("bytes",()=>wn).set("crc32c",()=>ni).set("vlen-utf8",()=>Jn).set("json2",()=>Kn)}const to=eo();function Gn(t){let e;return{async encode(n){e||(e=await Wi(t));for(const r of e.array_to_array)n=await r.encode(n);let i=await e.array_to_bytes.encode(n);for(const r of e.bytes_to_bytes)i=await r.encode(i);return i},async decode(n){e||(e=await Wi(t));for(let r=e.bytes_to_bytes.length-1;r>=0;r--)n=await e.bytes_to_bytes[r].decode(n);let i=await e.array_to_bytes.decode(n);for(let r=e.array_to_array.length-1;r>=0;r--)i=await e.array_to_array[r].decode(i);return i}}}async function Wi(t){let e=t.codecs.map(async s=>{var a;let o=await((a=to.get(s.name))==null?void 0:a());if(!o)throw new Error(`Unknown codec: ${s.name}`);return{Codec:o,meta:s}}),n=[],i,r=[];for await(let{Codec:s,meta:o}of e){let a=s.fromConfig(o.configuration,t);switch(a.kind){case"array_to_array":n.push(a);break;case"array_to_bytes":i=a;break;default:r.push(a)}}if(!i){if(!no(t))throw new Error(`Cannot encode ${t.data_type} to bytes without a codec`);i=wn.fromConfig({endian:"little"},t)}return{array_to_array:n,array_to_bytes:i,bytes_to_bytes:r}}function no(t){return t.data_type!=="v2:object"}const Hi=18446744073709551615n;function io(t,e,n,i){if(t.store.getRange===void 0)throw new Error("Store does not support range requests");let r=t.store.getRange.bind(t.store),s=e.map((l,h)=>l/i.chunk_shape[h]),o=Gn({data_type:"uint64",shape:[...s,2],codecs:i.index_codecs}),a={};return async l=>{let h=l.map((L,B)=>Math.floor(L/s[B])),c=t.resolve(n(h)).path,_;if(c in a)_=a[c];else{let L=4,B=16*s.reduce((K,re)=>K*re,1),J=await r(c,{suffixLength:B+L});_=a[c]=J?await o.decode(J):null}if(_===null)return;let{data:g,shape:b,stride:m}=_,S=l.map((L,B)=>L%b[B]).reduce((L,B,J)=>L+B*m[J],0),U=g[S],D=g[S+1];if(!(U===Hi&&D===Hi))return r(c,{offset:Number(U),length:Number(D)})}}class Pt{constructor(e,n="/"){oe(this,"store");oe(this,"path");this.store=e,this.path=n}resolve(e){let n=new URL(`file://${this.path.endsWith("/")?this.path:`${this.path}/`}`);return new Pt(this.store,new URL(e,n).pathname)}}var rn;class ri extends Pt{constructor(n,i,r){super(n,i);oe(this,"kind","group");Ae(this,rn);we(this,rn,r)}get attrs(){return Q(this,rn).attributes}}rn=new WeakMap;const Ht=Symbol("zarrita.context");function ro(t){return t[Ht]}function so(t,e){let{configuration:n}=e.codecs.find(Gs)??{},i={encode_chunk_key:qs(e.chunk_key_encoding),TypedArray:Pr(e.data_type),fill_value:e.fill_value};if(n){let s=Hn(n.codecs);return{...i,kind:"sharded",chunk_shape:n.chunk_shape,codec:Gn({data_type:e.data_type,shape:n.chunk_shape,codecs:n.codecs}),get_strides(o,a){return At(o,a??s)},get_chunk_bytes:io(t,e.chunk_grid.configuration.chunk_shape,i.encode_chunk_key,n)}}let r=Hn(e.codecs);return{...i,kind:"regular",chunk_shape:e.chunk_grid.configuration.chunk_shape,codec:Gn({data_type:e.data_type,shape:e.chunk_grid.configuration.chunk_shape,codecs:e.codecs}),get_strides(s,o){return At(s,o??r)},async get_chunk_bytes(s,o){let a=i.encode_chunk_key(s),l=t.resolve(a).path;return t.store.get(l,o)}}}var Er,Sr,St,Ar;let kn=(Ar=class extends(Sr=Pt,Er=Ht,Sr){constructor(n,i,r){super(n,i);oe(this,"kind","array");Ae(this,St);oe(this,Er);we(this,St,{...r,fill_value:Br(r)}),this[Ht]=so(this,r)}get attrs(){return Q(this,St).attributes}get shape(){return Q(this,St).shape}get chunks(){return this[Ht].chunk_shape}get dtype(){return Q(this,St).data_type}async getChunk(n,i){let r=this[Ht],s=await r.get_chunk_bytes(n,i);if(!s){let o=r.chunk_shape.reduce((l,h)=>l*h,1),a=new r.TypedArray(o);return a.fill(r.fill_value),{data:a,shape:r.chunk_shape,stride:r.get_strides(r.chunk_shape)}}return r.codec.decode(s)}is(n){return Js(this.dtype,n)}},St=new WeakMap,Ar),Sn=oo();function oo(){let t=new WeakMap;function e(n){let i=t.get(n)??{v2:0,v3:0};return t.set(n,i),i}return{increment(n,i){e(n)[i]+=1},version_max(n){let i=e(n);return i.v3>i.v2?"v3":"v2"}}}async function lo(t){let e=await t.store.get(t.resolve(".zattrs").path);return e?fn(e):{}}async function ao(t,e={}){let n="store"in t?t:new Pt(t),i={};return(e.attrs??!0)&&(i=await lo(n)),e.kind==="array"?Ki(n,i):e.kind==="group"?Ji(n,i):Ki(n,i).catch(r=>{if(r instanceof un)return Ji(n,i);throw r})}async function Ki(t,e){let{path:n}=t.resolve(".zarray"),i=await t.store.get(n);if(!i)throw new un("v2 array",{cause:new ei(n)});return Sn.increment(t.store,"v2"),new kn(t.store,t.path,Hs(fn(i),e))}async function Ji(t,e){let{path:n}=t.resolve(".zgroup"),i=await t.store.get(n);if(!i)throw new un("v2 group",{cause:new ei(n)});return Sn.increment(t.store,"v2"),new ri(t.store,t.path,Ks(fn(i),e))}async function uo(t){let{store:e,path:n}=t.resolve("zarr.json"),i=await t.store.get(n);if(!i)throw new un("v3 array or group",{cause:new ei(n)});let r=fn(i);return r.node_type==="array"&&(r.fill_value=Br(r)),r.node_type==="array"?new kn(e,t.path,r):new ri(e,t.path,r)}async function fo(t,e={}){let n="store"in t?t:new Pt(t),i=await uo(n);if(Sn.increment(n.store,"v3"),e.kind===void 0||e.kind==="array"&&i instanceof kn||e.kind==="group"&&i instanceof ri)return i;let r=i instanceof kn?"array":"group";throw new Error(`Expected node of kind ${e.kind}, found ${r}.`)}async function Et(t,e={}){let n="store"in t?t.store:t,i=Sn.version_max(n),r=i==="v2"?Et.v2:Et.v3,s=i==="v2"?Et.v3:Et.v2;return r(t,e).catch(o=>{if(o instanceof un)return s(t,e);throw o})}Et.v2=ao;Et.v3=fo;function*co(t,e,n=1){e===void 0&&(e=t,t=0);for(let i=t;i<e;i+=n)yield i}function*ho(...t){if(t.length===0)return;const e=t.map(i=>i[Symbol.iterator]()),n=e.map(i=>i.next());if(n.some(i=>i.done))throw new Error("Input contains an empty iterator.");for(let i=0;;){if(n[i].done){if(e[i]=t[i][Symbol.iterator](),n[i]=e[i].next(),++i>=e.length)return}else yield n.map(({value:r})=>r),i=0;n[i]=e[i].next()}}function _o({start:t,stop:e,step:n},i){if(n===0)throw new Error("slice step cannot be zero");n=n??1;const r=n<0,[s,o]=r?[-1,i-1]:[0,i];return t===null?t=r?o:s:t<0?(t+=i,t<s&&(t=s)):t>o&&(t=o),e===null?e=r?s:o:e<0?(e+=i,e<s&&(e=s)):e>o&&(e=o),[t,e,n]}function Yn(t,e,n=null){return e===void 0&&(e=t,t=null),{start:t,stop:e,step:n}}function go(){const t=[];return{add:e=>t.push(e()),onIdle:()=>Promise.all(t)}}class si extends Error{constructor(e){super(e),this.name="IndexError"}}function mo(t,e){throw new si(`too many indicies for array; expected ${e.length}, got ${t.length}`)}function po(t){throw new si(`index out of bounds for dimension with length ${t}`)}function bo(){throw new si("only slices with step >= 1 are supported")}function vo(t,e){t.length>e.length&&mo(t,e)}function yo(t,e){return t=Math.trunc(t),t<0&&(t=e+t),(t>=e||t<0)&&po(e),t}class wo{constructor({dim_sel:e,dim_len:n,dim_chunk_len:i}){oe(this,"dim_sel");oe(this,"dim_len");oe(this,"dim_chunk_len");oe(this,"nitems");e=yo(e,n),this.dim_sel=e,this.dim_len=n,this.dim_chunk_len=i,this.nitems=1}*[Symbol.iterator](){const e=Math.floor(this.dim_sel/this.dim_chunk_len),n=e*this.dim_chunk_len,i=this.dim_sel-n;yield{dim_chunk_ix:e,dim_chunk_sel:i}}}class Gi{constructor({dim_sel:e,dim_len:n,dim_chunk_len:i}){oe(this,"start");oe(this,"stop");oe(this,"step");oe(this,"dim_len");oe(this,"dim_chunk_len");oe(this,"nitems");oe(this,"nchunks");const[r,s,o]=_o(e,n);this.start=r,this.stop=s,this.step=o,this.step<1&&bo(),this.dim_len=n,this.dim_chunk_len=i,this.nitems=Math.max(0,Math.ceil((this.stop-this.start)/this.step)),this.nchunks=Math.ceil(this.dim_len/this.dim_chunk_len)}*[Symbol.iterator](){const e=Math.floor(this.start/this.dim_chunk_len),n=Math.ceil(this.stop/this.dim_chunk_len);for(const i of co(e,n)){const r=i*this.dim_chunk_len,s=Math.min(this.dim_len,(i+1)*this.dim_chunk_len),o=s-r;let a=0,l=0;if(this.start<r){const b=(r-this.start)%this.step;b&&(l+=this.step-b),a=Math.ceil((r-this.start)/this.step)}else l=this.start-r;const h=this.stop>s?o:this.stop-r,c=[l,h,this.step],_=Math.ceil((h-l)/this.step),g=[a,a+_,1];yield{dim_chunk_ix:i,dim_chunk_sel:c,dim_out_sel:g}}}}function ko(t,e){let n=[];return t===null?n=e.map(i=>Yn(null)):Array.isArray(t)&&(n=t.map(i=>i??Yn(null))),vo(n,e),n}class Eo{constructor({selection:e,shape:n,chunk_shape:i}){oe(this,"dim_indexers");oe(this,"shape");this.dim_indexers=ko(e,n).map((r,s)=>new(typeof r=="number"?wo:Gi)({dim_sel:r,dim_len:n[s],dim_chunk_len:i[s]})),this.shape=this.dim_indexers.filter(r=>r instanceof Gi).map(r=>r.nitems)}*[Symbol.iterator](){for(const e of ho(...this.dim_indexers)){const n=e.map(r=>r.dim_chunk_ix),i=e.map(r=>"dim_out_sel"in r?{from:r.dim_chunk_sel,to:r.dim_out_sel}:{from:r.dim_chunk_sel,to:null});yield{chunk_coords:n,mapping:i}}}}function So(t,e){return"get"in t?t.get(e):t[e]}async function Ao(t,e,n,i){var l;let r=ro(t),s=new Eo({selection:e,shape:t.shape,chunk_shape:t.chunks}),o=i.prepare(new r.TypedArray(s.shape.reduce((h,c)=>h*c,1)),s.shape,r.get_strides(s.shape,n.order)),a=((l=n.create_queue)==null?void 0:l.call(n))??go();for(const{chunk_coords:h,mapping:c}of s)a.add(async()=>{let{data:_,shape:g,stride:b}=await t.getChunk(h,n.opts),m=i.prepare(_,g,b);i.set_from_chunk(o,m,c)});return await a.onIdle(),s.shape.length===0?So(o.data,0):o}function oi(t,e=0,n){let i=n??t.length-e;return{length:i,subarray(r,s=i){return oi(t,e+r,s-r)},set(r,s=0){for(let o=0;o<r.length;o++)t[e+s+o]=r.get(o)},get(r){return t[e+r]}}}function Nn(t){return globalThis.Array.isArray(t.data)?{data:oi(t.data),stride:t.stride,bytes_per_element:1}:{data:new Uint8Array(t.data.buffer,t.data.byteOffset,t.data.byteLength),stride:t.stride,bytes_per_element:t.data.BYTES_PER_ELEMENT}}function Io(t){return"chars"in t?t.constructor.bind(null,t.chars):t.constructor}function Co(t,e){if(globalThis.Array.isArray(t.data))return oi([e]);let n=Io(t.data),i=new n([e]);return new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}const zo={prepare(t,e,n){return{data:t,shape:e,stride:n}},set_scalar(t,e,n){let i=Nn(t);Qn(i,e,Co(t,n),i.bytes_per_element)},set_from_chunk(t,e,n){let i=Nn(t);vn(i,Nn(e),i.bytes_per_element,n)}};async function To(t,e=null,n={}){return Ao(t,e,n,zo)}function Ur(t,e,n){return n<0&&e<t?Math.floor((t-e-1)/-n)+1:t<e?Math.floor((e-t-1)/n)+1:0}function Qn(t,e,n,i){if(e.length===0){t.data.set(n,0);return}const[r,...s]=e,[o,...a]=t.stride;if(typeof r=="number"){const g=t.data.subarray(o*r*i);Qn({data:g,stride:a},s,n,i);return}const[l,h,c]=r,_=Ur(l,h,c);if(s.length===0){for(let g=0;g<_;g++)t.data.set(n,o*(l+c*g)*i);return}for(let g=0;g<_;g++){const b=t.data.subarray(o*(l+c*g)*i);Qn({data:b,stride:a},s,n,i)}}function vn(t,e,n,i){const[r,...s]=i,[o,...a]=t.stride,[l,...h]=e.stride;if(r.from===null){if(s.length===0){t.data.set(e.data.subarray(0,n),r.to*n);return}vn({data:t.data.subarray(o*r.to*n),stride:a},e,n,s);return}if(r.to===null){if(s.length===0){let D=r.from*n;t.data.set(e.data.subarray(D,D+n),0);return}vn(t,{data:e.data.subarray(l*r.from*n),stride:h},n,s);return}const[c,_,g]=r.to,[b,m,S]=r.from,U=Ur(c,_,g);if(s.length===0){if(g===1&&S===1&&o===1&&l===1){let D=b*n,L=U*n;t.data.set(e.data.subarray(D,D+L),c*n);return}for(let D=0;D<U;D++){let L=l*(b+S*D)*n;t.data.set(e.data.subarray(L,L+n),o*(c+g*D)*n)}return}for(let D=0;D<U;D++)vn({data:t.data.subarray(o*(c+D*g)*n),stride:a},{data:e.data.subarray(l*(b+D*S)*n),stride:h},n,s)}function qr(t,e,n,i={}){return e!==void 0&&n!==void 0&&(i={...i,headers:{...i.headers,Range:`bytes=${e}-${e+n-1}`}}),fetch(t,i)}function Ro(t,e){return{...t,...e,headers:{...t.headers,...e.headers}}}function Yi(t,e){const n=typeof t=="string"?new URL(t):t;n.pathname.endsWith("/")||(n.pathname+="/");const i=new URL(e.slice(1),n);return i.search=n.search,i}async function Qi(t){if(!(t.status===404||t.status===403)){if(t.status===200||t.status===206)return new Uint8Array(await t.arrayBuffer());throw new Error(`Unexpected response status ${t.status} ${t.statusText}`)}}async function Oo(t,e,n,i){if(i)return fetch(t,{...n,headers:{...n.headers,Range:`bytes=-${e}`}});let r=await fetch(t,{...n,method:"HEAD"});if(!r.ok)return r;let s=r.headers.get("Content-Length"),o=Number(s);return qr(t,o-e,o,n)}var sn,on,ln,Zn;class Lo{constructor(e,n={}){Ae(this,ln);oe(this,"url");Ae(this,sn);Ae(this,on);this.url=e,we(this,sn,n.overrides??{}),we(this,on,n.useSuffixRequest??!1)}async get(e,n={}){let i=Yi(this.url,e).href,r=await fetch(i,Dn(this,ln,Zn).call(this,n));return Qi(r)}async getRange(e,n,i={}){let r=Yi(this.url,e),s=Dn(this,ln,Zn).call(this,i),o;return"suffixLength"in n?o=await Oo(r,n.suffixLength,s,Q(this,on)):o=await qr(r,n.offset,n.length,s),Qi(o)}}sn=new WeakMap,on=new WeakMap,ln=new WeakSet,Zn=function(e){return Ro(Q(this,sn),e)};function Mo(t){let e,n;return{c(){e=A("div"),n=A("canvas"),_e(n,"width",t[3]+"px"),_e(n,"height",t[4]+"px"),_e(n,"background-color","lightgrey"),w(n,"height",t[2]),w(n,"width",t[1]),w(n,"class","svelte-lwhhyg"),w(e,"class","canvasWrapper svelte-lwhhyg"),_e(e,"width",t[3]+"px"),_e(e,"height",t[4]+"px"),Ot(e,"spinner",t[5])},m(i,r){te(i,e,r),d(e,n),t[12](n)},p(i,[r]){r&8&&_e(n,"width",i[3]+"px"),r&16&&_e(n,"height",i[4]+"px"),r&4&&w(n,"height",i[2]),r&2&&w(n,"width",i[1]),r&8&&_e(e,"width",i[3]+"px"),r&16&&_e(e,"height",i[4]+"px"),r&32&&Ot(e,"spinner",i[5])},i:Te,o:Te,d(i){i&&X(e),t[12](null)}}}function Fo(t,e,n){let{source:i}=e,{attrs:r}=e,{thumbDatasetIndex:s=void 0}=e,{thumbAspectRatio:o=1}=e,{cssSize:a=120}=e,{max_size:l=512}=e,h,c=a,_=a;o>1?_=c/o:o<1&&(c=_*o);let g=c,b=_,m=!0;const S=new AbortController;async function U(){var R;let L=r.multiscales[0].datasets.map(x=>x.path),B=r.multiscales[0].axes.map(x=>x.name),J=L.at(-1);s!=null&&s<L.length&&(J=L[s]);const K=new Lo(i+"/"+J),re=await Et.v3(K,{kind:"array"});let O=B.indexOf("c"),u=re.shape;if(u.at(-1)*u.at(-2)>l*l){console.log("Lowest resolution too large for Thumbnail: ",u,i);return}let f=u.length,p=u[O]||1,C,T;(R=r==null?void 0:r.omero)!=null&&R.channels?(C=r.omero.channels.map(x=>x.active),T=r.omero.channels.map(x=>Mr(x.color))):(C=ys(p),T=ws(p,C)),T=T.filter((x,$)=>C[$]);let H=C.reduce((x,$,I)=>($&&x.push(I),x),[]).map(x=>{let $=u.map((I,z)=>z==O?x:z>=f-2?Yn(0,I):B[z]=="z"||B[z]=="t"?parseInt(I/2+""):0);return To(re,$,{opts:{signal:S.signal}})}),q=await Promise.all(H),k=q.map(x=>Lr(x)),y=gs(q,k,T);n(1,c=u.at(-1)),n(2,_=u.at(-2));let V=c/a;_>c&&(V=_/a),n(3,g=c/V),n(4,b=_/V),setTimeout(()=>{const x=h.getContext("2d");n(5,m=!1),x.putImageData(new ImageData(y,c,_),0,0)},100)}an(()=>{U()}),$n(()=>{S.abort()});function D(L){Dt[L?"unshift":"push"](()=>{h=L,n(0,h)})}return t.$$set=L=>{"source"in L&&n(6,i=L.source),"attrs"in L&&n(7,r=L.attrs),"thumbDatasetIndex"in L&&n(8,s=L.thumbDatasetIndex),"thumbAspectRatio"in L&&n(9,o=L.thumbAspectRatio),"cssSize"in L&&n(10,a=L.cssSize),"max_size"in L&&n(11,l=L.max_size)},[h,c,_,g,b,m,i,r,s,o,a,l,D]}class Vr extends et{constructor(e){super(),$e(this,e,Fo,Mo,Ze,{source:6,attrs:7,thumbDatasetIndex:8,thumbAspectRatio:9,cssSize:10,max_size:11})}}function Zi(t,e,n){const i=t.slice();return i[11]=e[n],i}function Xi(t){let e,n;return e=new Vr({props:{source:t[4],attrs:t[3],max_size:2e3,thumbDatasetIndex:t[5],thumbAspectRatio:t[6]}}),{c(){Oe(e.$$.fragment)},m(i,r){Ie(e,i,r),n=!0},p(i,r){const s={};r&16&&(s.source=i[4]),r&8&&(s.attrs=i[3]),r&32&&(s.thumbDatasetIndex=i[5]),r&64&&(s.thumbAspectRatio=i[6]),e.$set(s)},i(i){n||(ee(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Ce(e,i)}}}function xi(t){let e,n,i,r,s=t[0].source+"",o,a,l=t[0].csv&&$i(t);return{c(){e=A("div"),n=j(`Data
        `),l&&l.c(),i=j(`
        provided by `),r=A("strong"),o=j(s),a=j("."),_e(r,"color","grey")},m(h,c){te(h,e,c),d(e,n),l&&l.m(e,null),d(e,i),d(e,r),d(r,o),d(e,a)},p(h,c){h[0].csv?l?l.p(h,c):(l=$i(h),l.c(),l.m(e,i)):l&&(l.d(1),l=null),c&1&&s!==(s=h[0].source+"")&&me(o,s)},d(h){h&&X(e),l&&l.d()}}}function $i(t){var o;let e,n,i=((o=t[0].csv)==null?void 0:o.split("/").pop().replace(".csv",""))+"",r,s;return{c(){e=j(`from collection
          `),n=A("a"),r=j(i),w(n,"title","Show collection in a new tab"),w(n,"href",s=ir(t[0])),w(n,"target","_blank")},m(a,l){te(a,e,l),te(a,n,l),d(n,r)},p(a,l){var h;l&1&&i!==(i=((h=a[0].csv)==null?void 0:h.split("/").pop().replace(".csv",""))+"")&&me(r,i),l&1&&s!==(s=ir(a[0]))&&w(n,"href",s)},d(a){a&&(X(e),X(n))}}}function er(t){let e,n,i,r,s,o;return{c(){e=j("Browse "),n=A("a"),i=j("Original data"),o=j("."),w(n,"title",r="Link to original data: "+t[0].origin),w(n,"href",s=t[0].origin),w(n,"target","_blank")},m(a,l){te(a,e,l),te(a,n,l),d(n,i),te(a,o,l)},p(a,l){l&1&&r!==(r="Link to original data: "+a[0].origin)&&w(n,"title",r),l&1&&s!==(s=a[0].origin)&&w(n,"href",s)},d(a){a&&(X(e),X(n),X(o))}}}function tr(t){let e=t[11].toUpperCase()+"",n,i,r=t[0][`size_${t[11]}`]+"",s,o;return{c(){n=j(e),i=j(":"),s=j(r),o=j("  ")},m(a,l){te(a,n,l),te(a,i,l),te(a,s,l),te(a,o,l)},p(a,l){l&1&&r!==(r=a[0][`size_${a[11]}`]+"")&&me(s,r)},d(a){a&&(X(n),X(i),X(s),X(o))}}}function nr(t){let e,n=t[0][`size_${t[11]}`]!==void 0&&tr(t);return{c(){n&&n.c(),e=En()},m(i,r){n&&n.m(i,r),te(i,e,r)},p(i,r){i[0][`size_${i[11]}`]!==void 0?n?n.p(i,r):(n=tr(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(i){i&&X(e),n&&n.d(i)}}}function Do(t){let e,n,i=yn(t[0].written)+"",r;return{c(){e=A("div"),n=j("Data size: "),r=j(i)},m(s,o){te(s,e,o),d(e,n),d(e,r)},p(s,o){o&1&&i!==(i=yn(s[0].written)+"")&&me(r,i)},d(s){s&&X(e)}}}function jo(t){let e,n,i=t[0].shards+"",r;return{c(){e=A("div"),n=j("Shard shape: "),r=j(i)},m(s,o){te(s,e,o),d(e,n),d(e,r)},p(s,o){o&1&&i!==(i=s[0].shards+"")&&me(r,i)},d(s){s&&X(e)}}}function No(t){let e,n,i=t[0].chunks+"",r;return{c(){e=A("div"),n=j("Chunk shape: "),r=j(i)},m(s,o){te(s,e,o),d(e,n),d(e,r)},p(s,o){o&1&&i!==(i=s[0].chunks+"")&&me(r,i)},d(s){s&&X(e)}}}function Po(t){let e,n,i,r,s,o,a=rr(t[0].url)+"",l,h,c,_=(t[0].name?t[0].name.replaceAll(t[1],`<mark>${t[1]}</mark>`):"")+"",g,b,m=t[7].replaceAll(t[1],`<mark>${t[1]}</mark>`)+"",S,U,D,L,B,J,K,re,O,u,f,p,C,T,N,H,q=t[3]&&Xi(t),k=t[0].source&&xi(t),y=t[0].origin&&er(t),V=He(["t","c","z","y","x"]),R=[];for(let z=0;z<5;z+=1)R[z]=nr(Zi(t,V,z));function x(z,E){return z[2]=="chunk_pixels"?No:z[2]=="shard_pixels"?jo:Do}let $=x(t),I=$(t);return{c(){e=A("div"),n=A("div"),q&&q.c(),i=G(),r=A("div"),s=A("div"),o=A("strong"),l=j(a),h=G(),c=A("div"),g=G(),b=A("div"),S=G(),k&&k.c(),U=G(),D=A("div"),L=j("Open in "),B=A("a"),J=j("OME-Validator."),O=G(),y&&y.c(),u=G(),f=A("div"),p=j(`Image size:
      `);for(let z=0;z<5;z+=1)R[z].c();C=G(),I.c(),w(n,"class","thumbWrapper svelte-1kl3tsw"),w(B,"title",K="Open in Validator: "+t[0].url),w(B,"href",re="https://deploy-preview-36--ome-ngff-validator.netlify.app/?source="+t[0].url),w(B,"target","_blank"),w(e,"class","zarr-list-item svelte-1kl3tsw")},m(z,E){te(z,e,E),d(e,n),q&&q.m(n,null),d(e,i),d(e,r),d(r,s),d(s,o),d(o,l),d(r,h),d(r,c),c.innerHTML=_,d(r,g),d(r,b),b.innerHTML=m,d(r,S),k&&k.m(r,null),d(r,U),d(r,D),d(D,L),d(D,B),d(B,J),d(D,O),y&&y.m(D,null),d(r,u),d(r,f),d(f,p);for(let M=0;M<5;M+=1)R[M]&&R[M].m(f,null);d(r,C),I.m(r,null),T=!0,N||(H=be(n,"click",t[8]),N=!0)},p(z,[E]){if(z[3]?q?(q.p(z,E),E&8&&ee(q,1)):(q=Xi(z),q.c(),ee(q,1),q.m(n,null)):q&&(jt(),le(q,1,1,()=>{q=null}),Nt()),(!T||E&1)&&a!==(a=rr(z[0].url)+"")&&me(l,a),(!T||E&3)&&_!==(_=(z[0].name?z[0].name.replaceAll(z[1],`<mark>${z[1]}</mark>`):"")+"")&&(c.innerHTML=_),(!T||E&130)&&m!==(m=z[7].replaceAll(z[1],`<mark>${z[1]}</mark>`)+"")&&(b.innerHTML=m),z[0].source?k?k.p(z,E):(k=xi(z),k.c(),k.m(r,U)):k&&(k.d(1),k=null),(!T||E&1&&K!==(K="Open in Validator: "+z[0].url))&&w(B,"title",K),(!T||E&1&&re!==(re="https://deploy-preview-36--ome-ngff-validator.netlify.app/?source="+z[0].url))&&w(B,"href",re),z[0].origin?y?y.p(z,E):(y=er(z),y.c(),y.m(D,null)):y&&(y.d(1),y=null),E&1){V=He(["t","c","z","y","x"]);let M;for(M=0;M<5;M+=1){const ne=Zi(z,V,M);R[M]?R[M].p(ne,E):(R[M]=nr(ne),R[M].c(),R[M].m(f,null))}for(;M<5;M+=1)R[M].d(1)}$===($=x(z))&&I?I.p(z,E):(I.d(1),I=$(z),I&&(I.c(),I.m(r,null)))},i(z){T||(ee(q),T=!0)},o(z){le(q),T=!1},d(z){z&&X(e),q&&q.d(),k&&k.d(),y&&y.d(),Jt(R,z),I.d(),N=!1,H()}}}function ir(t){return window.location.origin+window.location.pathname+"?csv="+t.csv}function rr(t){return t.split("/").pop()}function Bo(t,e,n){let i,{rowData:r}=e,{textFilter:s}=e,{sortedBy:o=void 0}=e,a,l,h,c=1;const _=new AbortController;if(r.size_x&&r.size_y){let b=Math.max(r.size_x,r.size_y);for(h=0;b>256;)h+=1,b=b/2;c=r.size_x/r.size_y}function g(){console.log("Clicked on thumbnail"),ze.setSelectedRow(r)}return an(async()=>{let b=r.url;r.series0!==void 0&&(b+="/"+r.series0);let m=await Yt(b,_.signal);n(3,a=m[0]),n(4,l=m[1]),m[2]}),$n(()=>{_.abort()}),t.$$set=b=>{"rowData"in b&&n(0,r=b.rowData),"textFilter"in b&&n(1,s=b.textFilter),"sortedBy"in b&&n(2,o=b.sortedBy)},t.$$.update=()=>{var b;t.$$.dirty&3&&n(7,i=s!=""&&((b=r.description)!=null&&b.includes(s))?r.description:"")},[r,s,o,a,l,h,c,i,g]}class Uo extends et{constructor(e){super(),$e(this,e,Bo,Po,Ze,{rowData:0,textFilter:1,sortedBy:2})}}function qo(t){let e,n,i,r;return n=new Uo({props:{rowData:t[0][t[13]],textFilter:t[1],sortedBy:t[2]}}),{c(){e=A("div"),Oe(n.$$.fragment),w(e,"slot","item"),w(e,"style",i=t[12]),w(e,"class","row svelte-1xvcjxw")},m(s,o){te(s,e,o),Ie(n,e,null),r=!0},p(s,o){const a={};o&8193&&(a.rowData=s[0][s[13]]),o&2&&(a.textFilter=s[1]),o&4&&(a.sortedBy=s[2]),n.$set(a),(!r||o&4096&&i!==(i=s[12]))&&w(e,"style",i)},i(s){r||(ee(n.$$.fragment,s),r=!0)},o(s){le(n.$$.fragment,s),r=!1},d(s){s&&X(e),Ce(n)}}}function Vo(t){let e=!1,n=()=>{e=!1},i,r,s,o=`${t[5]}px`,a,l,h;return it(t[8]),it(t[9]),s=new Fs({props:{width:"100%",height:t[5],itemCount:t[0].length,itemSize:160,getKey:t[6],$$slots:{item:[qo,({style:c,index:_})=>({12:c,13:_}),({style:c,index:_})=>(c?4096:0)|(_?8192:0)]},$$scope:{ctx:t}}}),s.$on("afterScroll",t[7]),{c(){r=A("div"),Oe(s.$$.fragment),w(r,"class","imageListContainer svelte-1xvcjxw"),_e(r,"height",o)},m(c,_){te(c,r,_),Ie(s,r,null),t[10](r),a=!0,l||(h=[be(window,"resize",t[8]),be(window,"scroll",()=>{e=!0,clearTimeout(i),i=setTimeout(n,100),t[9]()})],l=!0)},p(c,[_]){_&16&&!e&&(e=!0,clearTimeout(i),scrollTo(window.pageXOffset,c[4]),i=setTimeout(n,100));const g={};_&32&&(g.height=c[5]),_&1&&(g.itemCount=c[0].length),_&28679&&(g.$$scope={dirty:_,ctx:c}),s.$set(g),_&32&&o!==(o=`${c[5]}px`)&&_e(r,"height",o)},i(c){a||(ee(s.$$.fragment,c),a=!0)},o(c){le(s.$$.fragment,c),a=!1},d(c){c&&X(r),Ce(s),t[10](null),l=!1,rt(h)}}}function Wo(t,e,n){let i,{tableRows:r}=e,{textFilter:s}=e,{sortedBy:o=void 0}=e;function a(S){return r[S].url}let l,h=0,c=0;function _(S){let D=l.offsetTop-20;S.detail.offset-c<0&&h>D&&n(4,h-=1),c=S.detail.offset}function g(){n(5,i=window.innerHeight)}function b(){n(4,h=window.pageYOffset)}function m(S){Dt[S?"unshift":"push"](()=>{l=S,n(3,l)})}return t.$$set=S=>{"tableRows"in S&&n(0,r=S.tableRows),"textFilter"in S&&n(1,s=S.textFilter),"sortedBy"in S&&n(2,o=S.sortedBy)},n(5,i=0),[r,s,o,l,h,i,a,_,g,b,m]}class Ho extends et{constructor(e){super(),$e(this,e,Wo,Vo,Ze,{tableRows:0,textFilter:1,sortedBy:2})}}function sr(t){let e,n;return e=new Vr({props:{source:t[1],attrs:t[0],cssSize:512,max_size:2e3,thumbDatasetIndex:t[2],thumbAspectRatio:t[3]}}),{c(){Oe(e.$$.fragment)},m(i,r){Ie(e,i,r),n=!0},p(i,r){const s={};r&2&&(s.source=i[1]),r&1&&(s.attrs=i[0]),r&4&&(s.thumbDatasetIndex=i[2]),r&8&&(s.thumbAspectRatio=i[3]),e.$set(s)},i(i){n||(ee(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Ce(e,i)}}}function Ko(t){let e,n,i=t[0]&&sr(t);return{c(){i&&i.c(),e=En()},m(r,s){i&&i.m(r,s),te(r,e,s),n=!0},p(r,[s]){r[0]?i?(i.p(r,s),s&1&&ee(i,1)):(i=sr(r),i.c(),ee(i,1),i.m(e.parentNode,e)):i&&(jt(),le(i,1,1,()=>{i=null}),Nt())},i(r){n||(ee(i),n=!0)},o(r){le(i),n=!1},d(r){r&&X(e),i&&i.d(r)}}}function Jo(t,e,n){let{rowData:i}=e;console.log("ThumbLoader",i);let r,s,o,a=1;if(i.size_x&&i.size_y){let l=Math.max(i.size_x,i.size_y);for(o=0;l>1024;)o+=1,l=l/2;a=i.size_x/i.size_y}else o=void 0,a=1;return an(async()=>{let l=await Yt(i.url);n(0,r=l[0]),n(1,s=l[1]),l[2]}),t.$$set=l=>{"rowData"in l&&n(4,i=l.rowData)},[r,s,o,a,i]}class Go extends et{constructor(e){super(),$e(this,e,Jo,Ko,Ze,{rowData:4})}}function or(t,e,n){const i=t.slice();return i[5]=e[n][0],i[6]=e[n][1],i}function lr(t){let e,n;return e=new Go({props:{rowData:t[1]}}),{c(){Oe(e.$$.fragment)},m(i,r){Ie(e,i,r),n=!0},p(i,r){const s={};r&2&&(s.rowData=i[1]),e.$set(s)},i(i){n||(ee(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Ce(e,i)}}}function ar(t){let e,n,i=t[2]&&lr(t);return{c(){i&&i.c(),e=En()},m(r,s){i&&i.m(r,s),te(r,e,s),n=!0},p(r,s){r[2]?i?(i.p(r,s),s&4&&ee(i,1)):(i=lr(r),i.c(),ee(i,1),i.m(e.parentNode,e)):i&&(jt(),le(i,1,1,()=>{i=null}),Nt())},i(r){n||(ee(i),n=!0)},o(r){le(i),n=!1},d(r){r&&X(e),i&&i.d(r)}}}function ur(t){let e,n=He(Object.entries(t[1])),i=[];for(let r=0;r<n.length;r+=1)i[r]=fr(or(t,n,r));return{c(){e=A("table");for(let r=0;r<i.length;r+=1)i[r].c()},m(r,s){te(r,e,s);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(r,s){if(s&2){n=He(Object.entries(r[1]));let o;for(o=0;o<n.length;o+=1){const a=or(r,n,o);i[o]?i[o].p(a,s):(i[o]=fr(a),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(r){r&&X(e),Jt(i,r)}}}function fr(t){let e,n,i=t[5]+"",r,s,o=t[6]+"",a;return{c(){e=A("tr"),n=A("td"),r=j(i),s=A("td"),a=j(o)},m(l,h){te(l,e,h),d(e,n),d(n,r),d(e,s),d(s,a)},p(l,h){h&2&&i!==(i=l[5]+"")&&me(r,i),h&2&&o!==(o=l[6]+"")&&me(a,o)},d(l){l&&X(e)}}}function Yo(t){let e,n,i,r,s=t[2],o,a,l,h,c=ar(t),_=t[1]&&ur(t);return{c(){e=A("div"),n=A("button"),n.textContent="×",i=G(),r=A("div"),c.c(),o=G(),_&&_.c(),w(n,"class","close svelte-1g3sjso"),w(n,"title","Close"),w(r,"class","scrollable svelte-1g3sjso"),w(e,"id","mypopover"),w(e,"popover",""),w(e,"class","svelte-1g3sjso")},m(g,b){te(g,e,b),d(e,n),d(e,i),d(e,r),c.m(r,null),d(r,o),_&&_.m(r,null),t[4](e),a=!0,l||(h=be(n,"click",t[3]),l=!0)},p(g,[b]){b&4&&Ze(s,s=g[2])?(jt(),le(c,1,1,Te),Nt(),c=ar(g),c.c(),ee(c,1),c.m(r,o)):c.p(g,b),g[1]?_?_.p(g,b):(_=ur(g),_.c(),_.m(r,null)):_&&(_.d(1),_=null)},i(g){a||(ee(c),a=!0)},o(g){le(c),a=!1},d(g){g&&X(e),c.d(g),_&&_.d(),t[4](null),l=!1,h()}}}function Qo(t,e,n){let i,r,s;ze.subscribeSelectedRow(l=>{console.log("Showing preview for",l),l&&(n(1,r=l),console.log("Showing Thumb preview for",l,r),n(2,s=r.url),i.showPopover())});function o(){i.hidePopover()}an(()=>{console.log("Mounted popover",i),i&&i.addEventListener("toggle",l=>{l.newState==="open"||(console.log("Popover has been hidden"),ze.setSelectedRow(null))})});function a(l){Dt[l?"unshift":"push"](()=>{i=l,n(0,i)})}return[i,r,s,o,a]}class Zo extends et{constructor(e){super(),$e(this,e,Qo,Yo,Ze,{})}}const Xo="https://will-moore.github.io/ome2024-ngff-challenge/selectCaret.svg",xo="https://will-moore.github.io/ome2024-ngff-challenge/ome-main-nav.svg";function $o(t){let e;return{c(){e=A("nav"),e.innerHTML=`<img style="height: 30px" alt="OME Logo" src="${xo}"/> <h2 class="svelte-jcf7ka">2024 NGFF Challenge</h2> <ul class="svelte-jcf7ka"><li class="svelte-jcf7ka"><a href="https://github.com/ome/ome2024-ngff-challenge/" target="_blank" class="svelte-jcf7ka">About</a></li></ul>`,w(e,"class","svelte-jcf7ka")},m(n,i){te(n,e,i)},p:Te,i:Te,o:Te,d(n){n&&X(e)}}}class el extends et{constructor(e){super(),$e(this,e,null,$o,Ze,{})}}function tl(t){let e,n,i,r,s,o,a,l=t[0].source+"",h,c,_,g,b,m,S=t[0].total_count+"",U,D,L,B,J,K,re;return{c(){e=A("div"),n=A("label"),i=A("img"),o=G(),a=A("div"),h=j(l),c=G(),_=A("br"),g=G(),b=A("span"),m=j("("),U=j(S),D=j(" images)"),B=A("input"),w(i,"title",r=t[0].url),w(i,"class","sourceLogo svelte-wjxbqp"),w(i,"alt","Source logo"),Ii(i.src,s=zi(t[0].source))||w(i,"src",s),w(b,"title",L=t[0].child_csv.length+" collections"),w(B,"type","radio"),w(B,"name","source"),B.value=J=t[0].source,w(B,"class","svelte-wjxbqp"),w(n,"class","svelte-wjxbqp"),w(e,"class","source svelte-wjxbqp")},m(O,u){te(O,e,u),d(e,n),d(n,i),d(n,o),d(n,a),d(a,h),d(a,c),d(a,_),d(a,g),d(a,b),d(b,m),d(b,U),d(b,D),d(a,B),K||(re=be(B,"change",function(){Xn(t[1])&&t[1].apply(this,arguments)}),K=!0)},p(O,[u]){t=O,u&1&&r!==(r=t[0].url)&&w(i,"title",r),u&1&&!Ii(i.src,s=zi(t[0].source))&&w(i,"src",s),u&1&&l!==(l=t[0].source+"")&&me(h,l),u&1&&S!==(S=t[0].total_count+"")&&me(U,S),u&1&&L!==(L=t[0].child_csv.length+" collections")&&w(b,"title",L),u&1&&J!==(J=t[0].source)&&(B.value=J)},i:Te,o:Te,d(O){O&&X(e),K=!1,re()}}}function nl(t,e,n){let{source:i}=e,{handleFilter:r}=e;return t.$$set=s=>{"source"in s&&n(0,i=s.source),"handleFilter"in s&&n(1,r=s.handleFilter)},[i,r]}class il extends et{constructor(e){super(),$e(this,e,nl,tl,Ze,{source:0,handleFilter:1})}}function cr(t,e,n){const i=t.slice();return i[30]=e[n],i}function hr(t,e,n){const i=t.slice();return i[30]=e[n],i}function dr(t,e,n){const i=t.slice();return i[35]=e[n],i}function _r(t,e,n){const i=t.slice();return i[38]=e[n],i}function gr(t){let e,n=t[1].length+"",i,r;return{c(){e=j(", from "),i=j(n),r=j(" sources")},m(s,o){te(s,e,o),te(s,i,o),te(s,r,o)},p(s,o){o[0]&2&&n!==(n=s[1].length+"")&&me(i,n)},d(s){s&&(X(e),X(i),X(r))}}}function mr(t){let e,n;return e=new il({props:{source:t[38],handleFilter:t[15]}}),{c(){Oe(e.$$.fragment)},m(i,r){Ie(e,i,r),n=!0},p(i,r){const s={};r[0]&2&&(s.source=i[38]),e.$set(s)},i(i){n||(ee(e.$$.fragment,i),n=!0)},o(i){le(e.$$.fragment,i),n=!1},d(i){Ce(e,i)}}}function pr(t){let e,n,i,r,s,o;return{c(){e=A("div"),n=A("label"),i=A("input"),r=j(`
              ❌ Clear Source Filter`),w(i,"type","radio"),w(i,"name","source"),i.value="",w(i,"class","svelte-fjpzuq"),w(n,"class","svelte-fjpzuq"),w(e,"class","source clear svelte-fjpzuq")},m(a,l){te(a,e,l),d(e,n),d(n,i),d(n,r),s||(o=be(i,"change",t[15]),s=!0)},p:Te,d(a){a&&X(e),s=!1,o()}}}function br(t){let e,n,i,r,s,o,a,l,h,c=He(ze.getCsvSourceList(t[13])),_=[];for(let g=0;g<c.length;g+=1)_[g]=vr(dr(t,c,g));return{c(){e=A("div"),n=A("select"),i=A("option"),i.textContent="Collection";for(let g=0;g<_.length;g+=1)_[g].c();r=G(),s=A("div"),o=A("button"),a=j("×"),i.__value="",je(i,i.__value),w(n,"name","collection"),w(n,"class","svelte-fjpzuq"),t[11]===void 0&&it(()=>t[22].call(n)),w(o,"title","Clear Filter"),_e(o,"visibility",t[11]!==""?"visible":"hidden"),w(o,"class","svelte-fjpzuq"),w(s,"class","svelte-fjpzuq"),w(e,"class","selectWrapper svelte-fjpzuq")},m(g,b){te(g,e,b),d(e,n),d(n,i);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(n,null);lt(n,t[11],!0),d(e,r),d(e,s),d(s,o),d(o,a),l||(h=[be(n,"change",t[22]),be(n,"change",t[17]),be(o,"click",t[17])],l=!0)},p(g,b){if(b[0]&8192){c=He(ze.getCsvSourceList(g[13]));let m;for(m=0;m<c.length;m+=1){const S=dr(g,c,m);_[m]?_[m].p(S,b):(_[m]=vr(S),_[m].c(),_[m].m(n,null))}for(;m<_.length;m+=1)_[m].d(1);_.length=c.length}b[0]&10240&&lt(n,g[11]),b[0]&2048&&_e(o,"visibility",g[11]!==""?"visible":"hidden")},d(g){g&&X(e),Jt(_,g),l=!1,rt(h)}}}function vr(t){let e,n=(t[35].source==t[13]?kr(t[35].url):t[35].source)+"",i,r,s=t[35].image_count+"",o,a,l;return{c(){e=A("option"),i=j(n),r=j(" ("),o=j(s),a=j(`)
                  `),e.__value=l=t[35].url,je(e,e.__value)},m(h,c){te(h,e,c),d(e,i),d(e,r),d(e,o),d(e,a)},p(h,c){c[0]&8192&&n!==(n=(h[35].source==h[13]?kr(h[35].url):h[35].source)+"")&&me(i,n),c[0]&8192&&s!==(s=h[35].image_count+"")&&me(o,s),c[0]&8192&&l!==(l=h[35].url)&&(e.__value=l,je(e,e.__value))},d(h){h&&X(e)}}}function yr(t){let e,n=t[30]+"",i,r;return{c(){e=A("option"),i=j(n),e.__value=r=t[4][t[30]],je(e,e.__value)},m(s,o){te(s,e,o),d(e,i)},p(s,o){o[0]&16&&n!==(n=s[30]+"")&&me(i,n),o[0]&16&&r!==(r=s[4][s[30]])&&(e.__value=r,je(e,e.__value))},d(s){s&&X(e)}}}function wr(t,e){let n,i=e[30]+"",r,s;return{key:t,first:null,c(){n=A("option"),r=j(i),n.__value=s=e[5][e[30]],je(n,n.__value),this.first=n},m(o,a){te(o,n,a),d(n,r)},p(o,a){e=o,a[0]&32&&i!==(i=e[30]+"")&&me(r,i),a[0]&32&&s!==(s=e[5][e[30]])&&(n.__value=s,je(n,n.__value))},d(o){o&&X(n)}}}function rl(t){let e,n,i,r,s,o,a,l,h,c,_=yn(t[3])+"",g,b,m,S,U,D,L,B,J,K,re,O,u,f,p,C,T,N=t[13]!==""&&ze.getCsvSourceList(t[13]).length>0,H,q,k,y,V=t[12]!==""?"All Dimensions":"Dimension Count",R,x,$,I,z,E,M,ne,Z,se,P,W,Y,de,ae=t[10]==""?"Organism":"All Organisms",ke,ge,fe,Le,ve,Ke,Ye,Se,ie,he,Qe=t[9]==""?"Imaging Modality":"All Modalities",ue,tt,Ee=[],xe=new Map,Xe,Je,Re,Ne,ft,Me,Bt,Fe,ct,ci,ht,hi,dt,di,_t,_i,gt,gi,st,mt,mi,pt,pi,bt,bi,It,vt,vi,cn=t[0].length+"",An,yi,wi,yt,Ue,In,ki;n=new el({}),r=new Zo({});let qe=t[1].length>0&&gr(t),wt=He(t[1]),pe=[];for(let v=0;v<wt.length;v+=1)pe[v]=mr(_r(t,wt,v));const Wr=v=>le(pe[v],1,1,()=>{pe[v]=null});let Ve=t[13]!==""&&pr(t),We=N&&br(t),Ct=He(Object.keys(t[4]).sort()),Pe=[];for(let v=0;v<Ct.length;v+=1)Pe[v]=yr(hr(t,Ct,v));let hn=He(Object.keys(t[5]).sort());const Ei=v=>v[30];for(let v=0;v<hn.length;v+=1){let F=cr(t,hn,v),ye=Ei(F);xe.set(ye,Ee[v]=wr(ye,F))}return ct=new ot({props:{col_label:"X",col_name:"size_x",handleSort:t[14],sortedBy:t[6],sortAscending:t[7]}}),ht=new ot({props:{col_label:"Y",col_name:"size_y",handleSort:t[14],sortedBy:t[6],sortAscending:t[7]}}),dt=new ot({props:{col_label:"Z",col_name:"size_z",handleSort:t[14],sortedBy:t[6],sortAscending:t[7]}}),_t=new ot({props:{col_label:"C",col_name:"size_c",handleSort:t[14],sortedBy:t[6],sortAscending:t[7]}}),gt=new ot({props:{col_label:"T",col_name:"size_t",handleSort:t[14],sortedBy:t[6],sortAscending:t[7]}}),mt=new ot({props:{col_label:"Chunks",col_name:"chunk_pixels",handleSort:t[14],sortedBy:t[6],sortAscending:t[7]}}),pt=new ot({props:{col_label:"Shards",col_name:"shard_pixels",handleSort:t[14],sortedBy:t[6],sortAscending:t[7]}}),bt=new ot({props:{col_label:"Data size",col_name:"written",handleSort:t[14],sortedBy:t[6],sortAscending:t[7]}}),yt=new Ho({props:{tableRows:t[0],textFilter:t[8],sortedBy:t[6]}}),{c(){e=A("div"),Oe(n.$$.fragment),i=G(),Oe(r.$$.fragment),s=G(),o=A("main"),a=A("div"),l=A("h2"),h=j(t[2]),c=j(` Zarr Images,
        `),g=j(_),qe&&qe.c(),b=j(":"),m=G(),S=A("div");for(let v=0;v<pe.length;v+=1)pe[v].c();U=G(),Ve&&Ve.c(),D=G(),L=A("div"),B=A("div"),J=A("div"),K=A("input"),re=G(),O=A("button"),u=j("×"),f=G(),p=A("div"),C=A("div"),C.textContent="Filter by:",T=G(),We&&We.c(),H=G(),q=A("div"),k=A("select"),y=A("option"),R=j(V),x=A("hr"),$=A("option"),$.textContent="2D",I=A("option"),I.textContent="3D",z=A("option"),z.textContent="4D",E=A("option"),E.textContent="5D",M=G(),ne=A("div"),Z=A("button"),se=j("×"),P=G(),W=A("div"),Y=A("select"),de=A("option"),ke=j(ae),ge=A("hr");for(let v=0;v<Pe.length;v+=1)Pe[v].c();fe=G(),Le=A("div"),ve=A("button"),Ke=j("×"),Ye=G(),Se=A("div"),ie=A("select"),he=A("option"),ue=j(Qe),tt=A("hr");for(let v=0;v<Ee.length;v+=1)Ee[v].c();Xe=G(),Je=A("div"),Re=A("button"),Ne=j("×"),ft=G(),Me=A("div"),Bt=j(`
        Sort by:
        `),Fe=A("div"),Oe(ct.$$.fragment),ci=G(),Oe(ht.$$.fragment),hi=G(),Oe(dt.$$.fragment),di=G(),Oe(_t.$$.fragment),_i=G(),Oe(gt.$$.fragment),gi=G(),st=A("div"),Oe(mt.$$.fragment),mi=G(),Oe(pt.$$.fragment),pi=G(),Oe(bt.$$.fragment),bi=G(),It=A("div"),vt=A("h3"),vi=j("Showing "),An=j(cn),yi=j(" images"),wi=G(),Oe(yt.$$.fragment),w(l,"class","svelte-fjpzuq"),w(S,"class","sources svelte-fjpzuq"),w(a,"class","summary svelte-fjpzuq"),w(K,"placeholder","Filter by Name or Description"),w(K,"name","textFilter"),w(K,"class","svelte-fjpzuq"),w(O,"title","Clear Filter"),_e(O,"visibility",t[8]!==""?"visible":"hidden"),w(O,"class","svelte-fjpzuq"),w(J,"class","textInputWrapper svelte-fjpzuq"),_e(C,"white-space","nowrap"),y.__value="",je(y,y.__value),$.__value="2",je($,$.__value),I.__value="3",je(I,I.__value),z.__value="4",je(z,z.__value),E.__value="5",je(E,E.__value),w(k,"class","svelte-fjpzuq"),t[12]===void 0&&it(()=>t[23].call(k)),w(Z,"title","Clear Filter"),_e(Z,"visibility",t[12]!==""?"visible":"hidden"),w(Z,"class","svelte-fjpzuq"),w(ne,"class","svelte-fjpzuq"),w(q,"class","selectWrapper svelte-fjpzuq"),de.__value="",je(de,de.__value),w(Y,"class","svelte-fjpzuq"),t[10]===void 0&&it(()=>t[24].call(Y)),w(ve,"title","Clear Filter"),_e(ve,"visibility",t[10]!==""?"visible":"hidden"),w(ve,"class","svelte-fjpzuq"),w(Le,"class","svelte-fjpzuq"),w(W,"class","selectWrapper svelte-fjpzuq"),he.__value="",je(he,he.__value),w(ie,"class","svelte-fjpzuq"),t[9]===void 0&&it(()=>t[25].call(ie)),w(Re,"title","Clear Filter"),_e(Re,"visibility",t[9]!==""?"visible":"hidden"),w(Re,"class","svelte-fjpzuq"),w(Je,"class","svelte-fjpzuq"),w(Se,"class","selectWrapper svelte-fjpzuq"),w(Me,"class","clear svelte-fjpzuq"),w(p,"class","filters svelte-fjpzuq"),w(Fe,"class","sortButtons svelte-fjpzuq"),w(st,"class","sortButtons svelte-fjpzuq"),w(B,"class","sidebar svelte-fjpzuq"),_e(vt,"margin-left","15px"),w(vt,"class","svelte-fjpzuq"),w(It,"class","results svelte-fjpzuq"),w(L,"class","sidebarContainer svelte-fjpzuq"),w(o,"class","svelte-fjpzuq"),w(e,"class","app svelte-fjpzuq"),_e(e,"--form-select-bg-img","url('"+Xo+"')")},m(v,F){te(v,e,F),Ie(n,e,null),d(e,i),Ie(r,e,null),d(e,s),d(e,o),d(o,a),d(a,l),d(l,h),d(l,c),d(l,g),qe&&qe.m(l,null),d(l,b),d(a,m),d(a,S);for(let ye=0;ye<pe.length;ye+=1)pe[ye]&&pe[ye].m(S,null);d(S,U),Ve&&Ve.m(S,null),d(o,D),d(o,L),d(L,B),d(B,J),d(J,K),je(K,t[8]),d(J,re),d(J,O),d(O,u),d(B,f),d(B,p),d(p,C),d(p,T),We&&We.m(p,null),d(p,H),d(p,q),d(q,k),d(k,y),d(y,R),d(k,x),d(k,$),d(k,I),d(k,z),d(k,E),lt(k,t[12],!0),d(q,M),d(q,ne),d(ne,Z),d(Z,se),d(p,P),d(p,W),d(W,Y),d(Y,de),d(de,ke),d(Y,ge);for(let ye=0;ye<Pe.length;ye+=1)Pe[ye]&&Pe[ye].m(Y,null);lt(Y,t[10],!0),d(W,fe),d(W,Le),d(Le,ve),d(ve,Ke),d(p,Ye),d(p,Se),d(Se,ie),d(ie,he),d(he,ue),d(ie,tt);for(let ye=0;ye<Ee.length;ye+=1)Ee[ye]&&Ee[ye].m(ie,null);lt(ie,t[9],!0),d(Se,Xe),d(Se,Je),d(Je,Re),d(Re,Ne),d(p,ft),d(p,Me),d(B,Bt),d(B,Fe),Ie(ct,Fe,null),d(Fe,ci),Ie(ht,Fe,null),d(Fe,hi),Ie(dt,Fe,null),d(Fe,di),Ie(_t,Fe,null),d(Fe,_i),Ie(gt,Fe,null),d(B,gi),d(B,st),Ie(mt,st,null),d(st,mi),Ie(pt,st,null),d(st,pi),Ie(bt,st,null),d(L,bi),d(L,It),d(It,vt),d(vt,vi),d(vt,An),d(vt,yi),d(It,wi),Ie(yt,It,null),Ue=!0,In||(ki=[be(K,"input",t[21]),be(K,"input",t[20]),be(O,"click",t[20]),be(k,"change",t[23]),be(k,"change",t[16]),be(Z,"click",t[16]),be(Y,"change",t[24]),be(Y,"change",t[18]),be(ve,"click",t[18]),be(ie,"change",t[25]),be(ie,"change",t[19]),be(Re,"click",t[19])],In=!0)},p(v,F){if((!Ue||F[0]&4)&&me(h,v[2]),(!Ue||F[0]&8)&&_!==(_=yn(v[3])+"")&&me(g,_),v[1].length>0?qe?qe.p(v,F):(qe=gr(v),qe.c(),qe.m(l,b)):qe&&(qe.d(1),qe=null),F[0]&32770){wt=He(v[1]);let ce;for(ce=0;ce<wt.length;ce+=1){const Ut=_r(v,wt,ce);pe[ce]?(pe[ce].p(Ut,F),ee(pe[ce],1)):(pe[ce]=mr(Ut),pe[ce].c(),ee(pe[ce],1),pe[ce].m(S,U))}for(jt(),ce=wt.length;ce<pe.length;ce+=1)Wr(ce);Nt()}if(v[13]!==""?Ve?Ve.p(v,F):(Ve=pr(v),Ve.c(),Ve.m(S,null)):Ve&&(Ve.d(1),Ve=null),F[0]&256&&K.value!==v[8]&&je(K,v[8]),(!Ue||F[0]&256)&&_e(O,"visibility",v[8]!==""?"visible":"hidden"),F[0]&8192&&(N=v[13]!==""&&ze.getCsvSourceList(v[13]).length>0),N?We?We.p(v,F):(We=br(v),We.c(),We.m(p,H)):We&&(We.d(1),We=null),(!Ue||F[0]&4096)&&V!==(V=v[12]!==""?"All Dimensions":"Dimension Count")&&me(R,V),F[0]&4096&&lt(k,v[12]),(!Ue||F[0]&4096)&&_e(Z,"visibility",v[12]!==""?"visible":"hidden"),(!Ue||F[0]&1024)&&ae!==(ae=v[10]==""?"Organism":"All Organisms")&&me(ke,ae),F[0]&16){Ct=He(Object.keys(v[4]).sort());let ce;for(ce=0;ce<Ct.length;ce+=1){const Ut=hr(v,Ct,ce);Pe[ce]?Pe[ce].p(Ut,F):(Pe[ce]=yr(Ut),Pe[ce].c(),Pe[ce].m(Y,null))}for(;ce<Pe.length;ce+=1)Pe[ce].d(1);Pe.length=Ct.length}F[0]&1040&&lt(Y,v[10]),(!Ue||F[0]&1024)&&_e(ve,"visibility",v[10]!==""?"visible":"hidden"),(!Ue||F[0]&512)&&Qe!==(Qe=v[9]==""?"Imaging Modality":"All Modalities")&&me(ue,Qe),F[0]&32&&(hn=He(Object.keys(v[5]).sort()),Ee=zr(Ee,F,Ei,1,v,hn,xe,ie,ns,wr,null,cr)),F[0]&544&&lt(ie,v[9]),(!Ue||F[0]&512)&&_e(Re,"visibility",v[9]!==""?"visible":"hidden");const ye={};F[0]&64&&(ye.sortedBy=v[6]),F[0]&128&&(ye.sortAscending=v[7]),ct.$set(ye);const Cn={};F[0]&64&&(Cn.sortedBy=v[6]),F[0]&128&&(Cn.sortAscending=v[7]),ht.$set(Cn);const zn={};F[0]&64&&(zn.sortedBy=v[6]),F[0]&128&&(zn.sortAscending=v[7]),dt.$set(zn);const Tn={};F[0]&64&&(Tn.sortedBy=v[6]),F[0]&128&&(Tn.sortAscending=v[7]),_t.$set(Tn);const Rn={};F[0]&64&&(Rn.sortedBy=v[6]),F[0]&128&&(Rn.sortAscending=v[7]),gt.$set(Rn);const On={};F[0]&64&&(On.sortedBy=v[6]),F[0]&128&&(On.sortAscending=v[7]),mt.$set(On);const Ln={};F[0]&64&&(Ln.sortedBy=v[6]),F[0]&128&&(Ln.sortAscending=v[7]),pt.$set(Ln);const Mn={};F[0]&64&&(Mn.sortedBy=v[6]),F[0]&128&&(Mn.sortAscending=v[7]),bt.$set(Mn),(!Ue||F[0]&1)&&cn!==(cn=v[0].length+"")&&me(An,cn);const dn={};F[0]&1&&(dn.tableRows=v[0]),F[0]&256&&(dn.textFilter=v[8]),F[0]&64&&(dn.sortedBy=v[6]),yt.$set(dn)},i(v){if(!Ue){ee(n.$$.fragment,v),ee(r.$$.fragment,v);for(let F=0;F<wt.length;F+=1)ee(pe[F]);ee(ct.$$.fragment,v),ee(ht.$$.fragment,v),ee(dt.$$.fragment,v),ee(_t.$$.fragment,v),ee(gt.$$.fragment,v),ee(mt.$$.fragment,v),ee(pt.$$.fragment,v),ee(bt.$$.fragment,v),ee(yt.$$.fragment,v),Ue=!0}},o(v){le(n.$$.fragment,v),le(r.$$.fragment,v),pe=pe.filter(Boolean);for(let F=0;F<pe.length;F+=1)le(pe[F]);le(ct.$$.fragment,v),le(ht.$$.fragment,v),le(dt.$$.fragment,v),le(_t.$$.fragment,v),le(gt.$$.fragment,v),le(mt.$$.fragment,v),le(pt.$$.fragment,v),le(bt.$$.fragment,v),le(yt.$$.fragment,v),Ue=!1},d(v){v&&X(e),Ce(n),Ce(r),qe&&qe.d(),Jt(pe,v),Ve&&Ve.d(),We&&We.d(),Jt(Pe,v);for(let F=0;F<Ee.length;F+=1)Ee[F].d();Ce(ct),Ce(ht),Ce(dt),Ce(_t),Ce(gt),Ce(mt),Ce(pt),Ce(bt),Ce(yt),In=!1,rt(ki)}}}function kr(t){return t.split("/").pop().replace(".csv","").replace("_samples","")}function sl(t,e,n){let i,r,s,o,a,l,c=new URLSearchParams(window.location.search).get("csv");try{new URL(c)}catch{c=hs}let _=[],g=[],b=0,m=0,S={},U={};ze.subscribe(k=>{n(0,_=J(k)),n(1,g=ze.getCsvSourceList()),n(2,b=k.length),n(3,m=k.reduce((y,V)=>y+parseInt(V.written)||0,0))}),Dr.subscribe(k=>{let y={};for(const[V,R]of Object.entries(k))y[R]=V;n(4,S=y)}),jr.subscribe(k=>{let y={};for(const[V,R]of Object.entries(k))y[R]=V;n(5,U=y)}),c&&Rr(c,ze);let D="",L=!0;function B(k){D===k?n(7,L=!L):n(7,L=!1),n(6,D=k),ze.sortTable(k,L)}function J(k){if(i!==""&&(k=k.filter(y=>y.dim_count==i)),s!=="")k=k.filter(y=>y.csv==s);else if(r!==""){let y=ze.getCsvSourceList(r),V=[r,...y.map(R=>R.source)];k=k.filter(R=>V.includes(R.source))}return o!==""&&(k=k.filter(y=>y.organismId==o)),a!=""&&(k=k.filter(y=>y.fbbiId==a)),l!=""&&(k=k.filter(y=>{var V,R;return((V=y.description)==null?void 0:V.includes(l))||((R=y.name)==null?void 0:R.includes(l))})),k}function K(k){n(13,r=k.target.value||""),n(11,s=""),console.log("filterSource",r,s),n(0,_=J(ze.getRows()))}function re(k){n(12,i=k.target.value||""),n(0,_=J(ze.getRows()))}function O(k){n(11,s=k.target.value||""),n(0,_=J(ze.getRows()))}function u(k){n(10,o=k.target.value||""),n(0,_=J(ze.getRows()))}function f(k){n(9,a=k.target.value||""),n(0,_=J(ze.getRows()))}function p(k){n(8,l=k.target.value),n(0,_=J(ze.getRows()))}function C(){l=this.value,n(8,l)}function T(){s=gn(this),n(11,s),n(13,r)}function N(){i=gn(this),n(12,i)}function H(){o=gn(this),n(10,o),n(4,S)}function q(){a=gn(this),n(9,a),n(5,U)}return t.$$.update=()=>{t.$$.dirty[0]&1&&_.some(k=>k.source)},n(12,i=""),n(13,r=""),n(11,s=""),n(10,o=""),n(9,a=""),n(8,l=""),[_,g,b,m,S,U,D,L,l,a,o,s,i,r,B,K,re,O,u,f,p,C,T,N,H,q]}class ol extends et{constructor(e){super(),$e(this,e,sl,rl,Ze,{},null,[-1,-1])}}new ol({target:document.getElementById("app")});
